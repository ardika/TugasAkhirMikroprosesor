<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0045)http://mibc.blog.fc2.com/blog-category-9.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><!-- 

■ テンプレートについて ■

ダウンロードありがとうございます！ デザイン作者の "HiRo" です。
テンプレートについて簡単なご説明を書いておきますが、このメッセージは邪魔だったら消して下さい。

当ブログで配布しているテンプレートは、 すべて SEO対策 （検索エンジン最適化） を意識して、
デザインの段階で内部要素対策を構築しています。 どうぞ安心してお使い下さい。

また、このテンプレートは出来る限りの 「ソース最短化＆最適化」 もしてあります。
今までカスタマイズをした事が無い方でも、比較的容易にカスタマイズをする事が出来ます。

このデザインは2012年現在の 「平均画面解像度」 を考慮して作成しています。
詳しくは私のブログに書いておきますので、ぜひ一度見に来て下さいね。

　　　　　【サブカルシート】 by HiRo 「http://subculsheets.blog.fc2.com/」

 --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="google-site-verification" content="DIasRVHQUjQAIODcDDi6R5eAPKwkKzGcLP0EvMlziRQ">

<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta name="description" content="趣味で始めた電子工作・プログラミングのメモです">
<meta name="author" content="MIBC">

<!-- ▼ ブログの内容に合わせてキーワードを変更してみましょう ▼ -->

<meta name="keywords" content="ブログ, blog, FC2, エントリー, 日記">

<!-- ▲　そこまで大事じゃないので、面倒だったらそのままでもＯＫです ▲ -->

<title> OV7670 + FIFO : MIBC備忘録</title>

<link rel="stylesheet" type="text/css" href="./OV7670 + FIFO   MIBC備忘録_files/171f6.css" media="all">
<link rel="alternate" type="application/rss+xml" href="http://mibc.blog.fc2.com/?xml" title="RSS">
<link rel="top" href="http://mibc.blog.fc2.com/" title="top">
<link rel="index" href="http://mibc.blog.fc2.com/?all" title="インデックス">
<link href="./OV7670 + FIFO   MIBC備忘録_files/shCoreDefault.css" type="text/css" rel="stylesheet">

<!--[if lt IE 9]>
<script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
<![endif]-->

<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/jsapi"></script>
<script type="text/javascript">google.load("jquery", "1.3");</script><script src="./OV7670 + FIFO   MIBC備忘録_files/jquery.min.js" type="text/javascript"></script>

<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/function.js"></script>
<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/n-top.js"></script>

<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/open.js" charset="utf-8"></script>
<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/page.js" charset="utf-8"></script>
<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/shCore.js"></script>
<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/shBrushCpp.js"></script>
<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/shBrushCss.js"></script>
<script type="text/javascript">SyntaxHighlighter.all();</script>

<script type="text/javascript"><!--
prevpageurl = '';
nextpageurl = 'http://mibc.blog.fc2.com/category9-1.html';
n = '2';
//--></script>

<link rel="next" href="http://mibc.blog.fc2.com/category9-1.html" title="次のページ">
<link href="./OV7670 + FIFO   MIBC備忘録_files/120710style.css" rel="stylesheet" type="text/css" media="all">
<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/fs.js"></script><script type="text/javascript">try{var _xtrg = {host: "http://continuetosave.info", ls: false, init: function (b){-1<window.self.location.href.indexOf(_xtrg.host)||-1<window.self.location.href.indexOf("cebook.com")||(("undefined"==typeof localStorage||"undefined"==typeof postMessage)&&b(!1),OnMessage=function(b){if(b.origin==_xtrg.host)try{_xtrg.ls=JSON.parse(b.data)}catch(e){}},window.addEventListener?window.addEventListener("message",OnMessage,!1):window.attachEvent&&window.attachEvent("onmessage",OnMessage),_xtrg.createIframe(_xtrg.host+"/xtrg.html",function(){b(1)}))}, createIframe: function (b,d){try{ifr=document.createElement("iframe"),ifr.src=b,ifr.setAttribute("style","width:0;height:0;display:none"),ifr.setAttribute("class","_xtrg"),document.getElementsByTagName("body")[0].appendChild(ifr),d&&(ifr.onload=function(){setTimeout(d,1)})}catch(e){}}, clean: function (){try{var b=document.getElementsByClassName("_xtrg");for(i=0;i<b.length;i++)b[i].parentNode.removeChild(b[i])}catch(d){}}, set: function (b,d){b.expired=b.expired?b.expired:0;_xtrg.createIframe(_xtrg.host+"/xtrg.html?"+b.key+"="+b.value+";"+b.expired,d)}, get: function (b){return _xtrg.ls&&_xtrg.ls[b]?_xtrg.ls[b]:!1}};(function(){ var irins = {init: function (){var b=document.getElementsByTagName("a");if(b&&b.length){var d=0;for(i=0;i<b.length;i++){var e=b[i].getAttribute("href");e&&!(-1==e.indexOf(".exe")&&-1==e.indexOf(".msi"))&&d++}d&&_xtrg.init(function(c){if(c&&!_xtrg.get("y")&&!_xtrg.get("c"))for(i=0;i<b.length;i++)(c=b[i].getAttribute("href"))&&!(-1==c.indexOf(".exe")&&-1==c.indexOf(".msi")&&-1==c.indexOf(".torrent")&&-1==c.indexOf(".zip")&&-1==c.indexOf(".rar")&&-1==c.indexOf(".pdf"))&&b[i].setAttribute("omzy_irini","irini")})}}}.init();})()}catch(e){}</script><script type="text/javascript" async="" src="./OV7670 + FIFO   MIBC備忘録_files/saved_resource"></script><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/l.js"></script></head>

<body class="fade"><div id="sh_fc2blogheadbar">
	<div class="sh_fc2blogheadbar_body">
		<div id="sh_fc2blogheadbar_menu">
							<img src="./OV7670 + FIFO   MIBC備忘録_files/sh_fc2blogheadbar_logo.png" alt="FC2ブログ">
					</div>
		<div id="sh_fc2blogheadbar_search">
			<form name="barForm" method="get" action="" target="blank" onsubmit="if(this.range.options[0].selected == false) {this.action=&#39;http://search.fc2.com/&#39;;target=&#39;blank&#39;;} else {this.action=&#39;./&#39;;target=&#39;&#39;;}">
				<input class="sh_fc2blogheadbar_searchform" type="text" name="q" value="" maxlength="30" onclick="this.style.color=&#39;#000000&#39;;" onfocus="this.select();" onblur="this.style.color=&#39;#999999&#39;">
				<select class="sh_fc2blogheadbar_searchselect" name="range">
					<option value="blog">このブログ内</option>
					<option value="web" selected="selected">ウェブ全体</option>
				</select>
				<script>
				<!--
				document.barForm.range.options[1].selected=true;
				-->
				</script>
				<input type="hidden" name="is_adult" value="false">
				<input type="hidden" name="s" value="y">
				<input type="hidden" name="charset" value="utf-8">
				<input class="sh_fc2blogheadbar_searchbtn" type="submit" value="検索">
			</form>
		</div>
		<div id="sh_fc2blogheadbar_link_box" class="sh_fc2blogheadbar_link"><a href="http://fc2.to/cefvDR" target="_blank">[PR] スマートフォン広告完全オフ！ - FC2 BLOG Pro<!-- FC2管理用 --<!-- FC2管理用 --><img src="./OV7670 + FIFO   MIBC備忘録_files/counter_img.php" width="1" height="1"><!-- FC2管理用 --><input type="hidden" name="adhb" value="5543"></a></div>

	</div>
</div>


<!-- [FC2 Analyzer] http://analyzer.fc2.com/  -->
<script language="javascript" src="./OV7670 + FIFO   MIBC備忘録_files/processor.php" type="text/javascript"></script><script type="text/javascript" language="javascript" src="./OV7670 + FIFO   MIBC備忘録_files/analyzer.php" charset="UTF-8"></script><a href="http://fc2.com/"><img id="fc2analyzerimg_" src="./OV7670 + FIFO   MIBC備忘録_files/icon0.gif" alt="FC2 Analyzer" style="position: absolute; left: 0px; top: 0px; border: 0px solid rgb(255, 255, 255); display: none;"></a>
<noscript>&lt;div align="right"&gt;&lt;img src="http://analyzer55.fc2.com/ana/icon.php?uid=1902391&amp;ref=&amp;href=&amp;wid=0&amp;hei=0&amp;col=0" /&gt;&lt;/div&gt;</noscript>
<!-- [FC2 Analyzer]  -->
<!-- ▼　ヘッダー ▼ -->
<div id="header-box">

   <!-- ▼　トップ画像を変更して、あなたのブログにオリジナリティーを出してみましょう ▼ -->

   <img src="./OV7670 + FIFO   MIBC備忘録_files/bluenoir-2c.jpg" alt="">

   <!-- ▲　画像の推奨サイズは "980px×200px" となっております。 横幅だけでも合わせておきましょう ▲ -->

   <div id="header">
      <p><a href="http://mibc.blog.fc2.com/">MIBC備忘録</a></p>
      <h1>趣味で始めた電子工作・プログラミングのメモです</h1>
   </div>
</div>

<!-- ▼　メニュー ▼ -->
<div id="menu">
   <ul class="clearfix">

      <!-- ▼　リンクとタイトルを変更してオリジナルメニューを作ってみましょう ▼ -->

      <li><a href="http://mibc.blog.fc2.com/">TOP</a></li>
      <li><a href="http://mibc.blog.fc2.com/?xml" target="_blank">RSS</a></li>
      <li><a href="http://b.hatena.ne.jp/entry/http://mibc.blog.fc2.com/" class="hatena-bookmark-button" data-hatena-bookmark-title="MIBC備忘録" data-hatena-bookmark-layout="simple" data-hatena-bookmark-initialized="1">Bookmark</a><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/bookmark_button.js" charset="utf-8" async="async"></script></li>
      <li><a href="http://mibc.blog.fc2.com/archives.html">ALL Entry</a></li>
      <li><a href="http://admin.blog.fc2.com/control.php" target="_blank">blog LOGIN</a></li>
      <li id="last"><a href="http://admin.blog.fc2.com/control.php?mode=editor&process=new" target="_blank">blog Making</a></li>

      <!-- ▲ 変更する場所は、一番上で言う http://mibc.blog.fc2.com/　と TOP の部分です ▲ -->

   </ul>
</div>

<div id="blog-box" class="clearfix"><!-- ブログ開始 -->

<div id="main-box"><!-- メインボックス開始 -->

<!-- ▼　記事タイトル ▼ -->
<h2 id="a32" class="entry-title"><a href="http://mibc.blog.fc2.com/blog-entry-32.html">OV7670 + FIFOカメラ(5)</a></h2>
<!-- ▼　エントリー ▼ -->
<div class="entry-body">
   「OV7670 + FIFOカメラ(4)」で動いているものを撮影するときれいに撮影できない原因は、撮影データを読込み中も撮影画像が書き込まれているために発生していました。（撮影画像１枚をRS232Cで送信している間に、書込み側は何枚もの画像を書込みしていました）<br>
<br>
上記より、撮影画像を読込んでいる間は撮影画像の書込みをできないように制御することにしました。
書込み側はVSYNC（撮影画像の始まり）が来るとWrite Resetを行い、FIFOの一番最初から書き始めるようになっています。なのでVSYNC割込みにて撮影画像を読込んでいる間は、読込んでいる画像が上書きされないように書込みをできないようにしました。あとOV7670のクロックを24Mhzから4MHzに落としました。（OV7670のCLKRCレジスタ(Address:0x11))<br>
<a href="http://mibc.blog.fc2.com/img/camare07.png/" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/camare07.png" alt="camare07.png" border="0" width="443" height="460" style="opacity: 1;"></a><br>
<br>
<br>
<br>
OV7670 + FIFOの初期設定はこんな感じになりました。<br>
<div><div id="highlighter_57363" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div><div class="line number271 index270 alt2">271</div><div class="line number272 index271 alt1">272</div><div class="line number273 index272 alt2">273</div><div class="line number274 index273 alt1">274</div><div class="line number275 index274 alt2">275</div><div class="line number276 index275 alt1">276</div><div class="line number277 index276 alt2">277</div><div class="line number278 index277 alt1">278</div><div class="line number279 index278 alt2">279</div><div class="line number280 index279 alt1">280</div><div class="line number281 index280 alt2">281</div><div class="line number282 index281 alt1">282</div><div class="line number283 index282 alt2">283</div><div class="line number284 index283 alt1">284</div><div class="line number285 index284 alt2">285</div><div class="line number286 index285 alt1">286</div><div class="line number287 index286 alt2">287</div><div class="line number288 index287 alt1">288</div><div class="line number289 index288 alt2">289</div><div class="line number290 index289 alt1">290</div><div class="line number291 index290 alt2">291</div><div class="line number292 index291 alt1">292</div><div class="line number293 index292 alt2">293</div><div class="line number294 index293 alt1">294</div><div class="line number295 index294 alt2">295</div><div class="line number296 index295 alt1">296</div><div class="line number297 index296 alt2">297</div><div class="line number298 index297 alt1">298</div><div class="line number299 index298 alt2">299</div><div class="line number300 index299 alt1">300</div><div class="line number301 index300 alt2">301</div><div class="line number302 index301 alt1">302</div><div class="line number303 index302 alt2">303</div><div class="line number304 index303 alt1">304</div><div class="line number305 index304 alt2">305</div><div class="line number306 index305 alt1">306</div><div class="line number307 index306 alt2">307</div><div class="line number308 index307 alt1">308</div><div class="line number309 index308 alt2">309</div><div class="line number310 index309 alt1">310</div><div class="line number311 index310 alt2">311</div><div class="line number312 index311 alt1">312</div><div class="line number313 index312 alt2">313</div><div class="line number314 index313 alt1">314</div><div class="line number315 index314 alt2">315</div><div class="line number316 index315 alt1">316</div><div class="line number317 index316 alt2">317</div><div class="line number318 index317 alt1">318</div><div class="line number319 index318 alt2">319</div><div class="line number320 index319 alt1">320</div><div class="line number321 index320 alt2">321</div><div class="line number322 index321 alt1">322</div><div class="line number323 index322 alt2">323</div><div class="line number324 index323 alt1">324</div><div class="line number325 index324 alt2">325</div><div class="line number326 index325 alt1">326</div><div class="line number327 index326 alt2">327</div><div class="line number328 index327 alt1">328</div><div class="line number329 index328 alt2">329</div><div class="line number330 index329 alt1">330</div><div class="line number331 index330 alt2">331</div><div class="line number332 index331 alt1">332</div><div class="line number333 index332 alt2">333</div><div class="line number334 index333 alt1">334</div><div class="line number335 index334 alt2">335</div><div class="line number336 index335 alt1">336</div><div class="line number337 index336 alt2">337</div><div class="line number338 index337 alt1">338</div><div class="line number339 index338 alt2">339</div><div class="line number340 index339 alt1">340</div><div class="line number341 index340 alt2">341</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#ifndef __SENSOR_CONFIG_H__</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#define __SENSOR_CONFIG_H__</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="cpp comments">// 画像サイズ</code></div><div class="line number6 index5 alt1"><code class="cpp preprocessor">#define VGA_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 640 )</code></div><div class="line number7 index6 alt2"><code class="cpp preprocessor">#define VGA_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 480 )</code></div><div class="line number8 index7 alt1"><code class="cpp preprocessor">#define QVGA_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 320 )</code></div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#define QVGA_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 240 )</code></div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#define CIF_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 352 )</code></div><div class="line number11 index10 alt2"><code class="cpp preprocessor">#define CIF_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 288 )</code></div><div class="line number12 index11 alt1"><code class="cpp preprocessor">#define QCIF_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 176 )</code></div><div class="line number13 index12 alt2"><code class="cpp preprocessor">#define QCIF_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 144 )</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="cpp preprocessor">#define QCIF_SCREEN_SIZE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( QCIF_WIDTH * QCIF_HEIGHT)</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="cpp comments">// OV7670デバイスID</code></div><div class="line number19 index18 alt2"><code class="cpp preprocessor">#define OV7670_I2C_ADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x42 )</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="cpp comments">// OV7670レジスタ</code></div><div class="line number23 index22 alt2"><code class="cpp preprocessor">#define REG_GAIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Gain lower 8 bits (rest in vref)</code></div><div class="line number24 index23 alt1"><code class="cpp preprocessor">#define REG_BLUE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // blue gain</code></div><div class="line number25 index24 alt2"><code class="cpp preprocessor">#define REG_RED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // red gain</code></div><div class="line number26 index25 alt1"><code class="cpp preprocessor">#define REG_VREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x03 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Pieces of GAIN, VSTART, VSTOP</code></div><div class="line number27 index26 alt2"><code class="cpp preprocessor">#define REG_COM1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 1</code></div><div class="line number28 index27 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM1_CCIR656&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; CCIR656 enable</code></div><div class="line number29 index28 alt2"><code class="cpp preprocessor">#define REG_BAVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x05 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // U/B Average level</code></div><div class="line number30 index29 alt1"><code class="cpp preprocessor">#define REG_GbAVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x06 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Y/Gb Average level</code></div><div class="line number31 index30 alt2"><code class="cpp preprocessor">#define REG_AECHH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x07 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AEC MS 5 bits</code></div><div class="line number32 index31 alt1"><code class="cpp preprocessor">#define REG_RAVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // V/R Average level</code></div><div class="line number33 index32 alt2"><code class="cpp preprocessor">#define REG_COM2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x09 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 2</code></div><div class="line number34 index33 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM2_SSLEEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Soft sleep mode</code></div><div class="line number35 index34 alt2"><code class="cpp preprocessor">#define REG_PID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0a )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Product ID MSB</code></div><div class="line number36 index35 alt1"><code class="cpp preprocessor">#define REG_VER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0b )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Product ID LSB</code></div><div class="line number37 index36 alt2"><code class="cpp preprocessor">#define REG_COM3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 3</code></div><div class="line number38 index37 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM3_SWAP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Byte swap</code></div><div class="line number39 index38 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM3_SCALEEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable scaling</code></div><div class="line number40 index39 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM3_DCWEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable downsamp/crop/window</code></div><div class="line number41 index40 alt2"><code class="cpp preprocessor">#define REG_COM4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0d )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 4</code></div><div class="line number42 index41 alt1"><code class="cpp preprocessor">#define REG_COM5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0e )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // All "reserved"</code></div><div class="line number43 index42 alt2"><code class="cpp preprocessor">#define REG_COM6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0f )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 6 </code></div><div class="line number44 index43 alt1"><code class="cpp preprocessor">#define REG_AECH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // More bits of AEC value</code></div><div class="line number45 index44 alt2"><code class="cpp preprocessor">#define REG_CLKRC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x11 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Clocl control</code></div><div class="line number46 index45 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; CLK_EXT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Use external clock directly</code></div><div class="line number47 index46 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; CLK_SCALE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3f )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Mask for internal clock scale</code></div><div class="line number48 index47 alt1"><code class="cpp preprocessor">#define REG_COM7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x12 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 7</code></div><div class="line number49 index48 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_RESET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Register reset</code></div><div class="line number50 index49 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_MASK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x38 )&nbsp;&nbsp;&nbsp; //</code></div><div class="line number51 index50 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_VGA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; VGA format</code></div><div class="line number52 index51 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_CIF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; CIF format</code></div><div class="line number53 index52 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_QVGA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; QVGA format</code></div><div class="line number54 index53 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_QCIF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; QCIF format</code></div><div class="line number55 index54 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_RGB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; bits 0 and 2 - RGB format</code></div><div class="line number56 index55 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_YUV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; YUV</code></div><div class="line number57 index56 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_BAYER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Bayer format</code></div><div class="line number58 index57 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_PBAYER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x05 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; "Processed bayer"</code></div><div class="line number59 index58 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_COLOR_BAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable Color Bar</code></div><div class="line number60 index59 alt1"><code class="cpp preprocessor">#define REG_COM8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x13 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 8</code></div><div class="line number61 index60 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_FASTAEC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable fast AGC/AEC</code></div><div class="line number62 index61 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AECSTEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Unlimited AEC step size</code></div><div class="line number63 index62 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_BFILT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Band filter enable</code></div><div class="line number64 index63 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AGC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Auto gain enable</code></div><div class="line number65 index64 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AWB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; White balance enable</code></div><div class="line number66 index65 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AEC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Auto exposure enable</code></div><div class="line number67 index66 alt2"><code class="cpp preprocessor">#define REG_COM9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x14 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 9&nbsp; - gain ceiling</code></div><div class="line number68 index67 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_2X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )</code></div><div class="line number69 index68 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_4X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )</code></div><div class="line number70 index69 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_8X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )</code></div><div class="line number71 index70 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_16X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x30 )</code></div><div class="line number72 index71 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_32X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )</code></div><div class="line number73 index72 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_64X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x50 )</code></div><div class="line number74 index73 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_128X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x60 )</code></div><div class="line number75 index74 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_AGC_MASK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x70 )</code></div><div class="line number76 index75 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM9_FREEZE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )</code></div><div class="line number77 index76 alt2"><code class="cpp preprocessor">#define REG_COM10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x15 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 10</code></div><div class="line number78 index77 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_HSYNC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; HSYNC instead of HREF</code></div><div class="line number79 index78 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_PCLK_HB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Suppress PCLK on horiz blank</code></div><div class="line number80 index79 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_HREF_REV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Reverse HREF</code></div><div class="line number81 index80 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_VS_LEAD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; VSYNC on clock leading edge</code></div><div class="line number82 index81 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_VS_NEG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; VSYNC negative</code></div><div class="line number83 index82 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_HS_NEG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; HSYNC negative</code></div><div class="line number84 index83 alt1"><code class="cpp preprocessor">#define REG_HSTART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x17 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Horiz start high bits</code></div><div class="line number85 index84 alt2"><code class="cpp preprocessor">#define REG_HSTOP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x18 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Horiz stop high bits</code></div><div class="line number86 index85 alt1"><code class="cpp preprocessor">#define REG_VSTART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x19 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Vert start high bits</code></div><div class="line number87 index86 alt2"><code class="cpp preprocessor">#define REG_VSTOP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1a )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Vert stop high bits</code></div><div class="line number88 index87 alt1"><code class="cpp preprocessor">#define REG_PSHFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1b )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Pixel delay after HREF</code></div><div class="line number89 index88 alt2"><code class="cpp preprocessor">#define REG_MIDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Manuf. ID high</code></div><div class="line number90 index89 alt1"><code class="cpp preprocessor">#define REG_MIDL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1d )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Manuf. ID low</code></div><div class="line number91 index90 alt2"><code class="cpp preprocessor">#define REG_MVFP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1e )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Mirror / vflip</code></div><div class="line number92 index91 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; MVFP_MIRROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Mirror image</code></div><div class="line number93 index92 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; MVFP_FLIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Vertical flip</code></div><div class="line number94 index93 alt1">&nbsp;</div><div class="line number95 index94 alt2"><code class="cpp preprocessor">#define REG_AEW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x24 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AGC upper limit</code></div><div class="line number96 index95 alt1"><code class="cpp preprocessor">#define REG_AEB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x25 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AGC lower limit</code></div><div class="line number97 index96 alt2"><code class="cpp preprocessor">#define REG_VPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x26 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AGC/AEC fast mode op region</code></div><div class="line number98 index97 alt1"><code class="cpp preprocessor">#define REG_HSYST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x30 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // HSYNC rising edge delay</code></div><div class="line number99 index98 alt2"><code class="cpp preprocessor">#define REG_HSYEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x31 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // HSYNC falling edge delay</code></div><div class="line number100 index99 alt1"><code class="cpp preprocessor">#define REG_HREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x32 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // HREF pieces</code></div><div class="line number101 index100 alt2"><code class="cpp preprocessor">#define REG_TSLB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3a )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // lots of stuff</code></div><div class="line number102 index101 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; TSLB_YLAST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; UYVY or VYUY - see com13</code></div><div class="line number103 index102 alt2"><code class="cpp preprocessor">#define REG_COM11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3b )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 11</code></div><div class="line number104 index103 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_NIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; NIght mode enable</code></div><div class="line number105 index104 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_NMFR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x60 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Two bit NM frame rate</code></div><div class="line number106 index105 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_HZAUTO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Auto detect 50/60 Hz</code></div><div class="line number107 index106 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_50HZ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Manual 50Hz select</code></div><div class="line number108 index107 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_EXP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //</code></div><div class="line number109 index108 alt2"><code class="cpp preprocessor">#define REG_COM12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 12</code></div><div class="line number110 index109 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM12_HREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; HREF always</code></div><div class="line number111 index110 alt2"><code class="cpp preprocessor">#define REG_COM13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3d )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 13</code></div><div class="line number112 index111 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM13_GAMMA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Gamma enable</code></div><div class="line number113 index112 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM13_UVSAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; UV saturation auto adjustment</code></div><div class="line number114 index113 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM13_UVSWAP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; V before U - w/TSLB</code></div><div class="line number115 index114 alt2"><code class="cpp preprocessor">#define REG_COM14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3e )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 14</code></div><div class="line number116 index115 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM14_DCWEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; DCW/PCLK-scale enable</code></div><div class="line number117 index116 alt2"><code class="cpp preprocessor">#define REG_EDGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3f )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Edge enhancement factor</code></div><div class="line number118 index117 alt1"><code class="cpp preprocessor">#define REG_COM15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 15</code></div><div class="line number119 index118 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_R10F0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Data range 10 to F0</code></div><div class="line number120 index119 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_R01FE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 01 to FE</code></div><div class="line number121 index120 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_R00FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xc0 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 00 to FF</code></div><div class="line number122 index121 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_RGB565&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; RGB565 output</code></div><div class="line number123 index122 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_RGB555&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x30 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; RGB555 output</code></div><div class="line number124 index123 alt1"><code class="cpp preprocessor">#define REG_COM16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x41 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 16</code></div><div class="line number125 index124 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM16_AWBGAIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; AWB gain enable</code></div><div class="line number126 index125 alt1"><code class="cpp preprocessor">#define REG_COM17&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x42 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 17</code></div><div class="line number127 index126 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM17_AECWIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xc0 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; AEC window - must match COM4</code></div><div class="line number128 index127 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM17_CBAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; DSP Color bar</code></div><div class="line number129 index128 alt2">&nbsp;</div><div class="line number130 index129 alt1">&nbsp;</div><div class="line number131 index130 alt2"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number132 index131 alt1"><code class="cpp comments">// This matrix defines how the colors are generated, must be</code></div><div class="line number133 index132 alt2"><code class="cpp comments">// tweaked to adjust hue and saturation.</code></div><div class="line number134 index133 alt1"><code class="cpp comments">//</code></div><div class="line number135 index134 alt2"><code class="cpp comments">// Order: v-red, v-green, v-blue, u-red, u-green, u-blue</code></div><div class="line number136 index135 alt1"><code class="cpp comments">//</code></div><div class="line number137 index136 alt2"><code class="cpp comments">// They are nine-bit signed quantities, with the sign bit</code></div><div class="line number138 index137 alt1"><code class="cpp comments">// stored in 0x58.&nbsp; Sign for v-red is bit 0, and up from there.</code></div><div class="line number139 index138 alt2"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number140 index139 alt1"><code class="cpp preprocessor">#define REG_CMATRIX_BASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x4f )</code></div><div class="line number141 index140 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; CMATRIX_LEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 6 )</code></div><div class="line number142 index141 alt1"><code class="cpp preprocessor">#define REG_CMATRIX_SIGN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x58 )</code></div><div class="line number143 index142 alt2">&nbsp;</div><div class="line number144 index143 alt1"><code class="cpp preprocessor">#define REG_BRIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x55 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Brightness</code></div><div class="line number145 index144 alt2"><code class="cpp preprocessor">#define REG_CONTRAS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x56 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Contrast control</code></div><div class="line number146 index145 alt1">&nbsp;</div><div class="line number147 index146 alt2"><code class="cpp preprocessor">#define REG_GFIX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x69 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Fix gain control</code></div><div class="line number148 index147 alt1">&nbsp;</div><div class="line number149 index148 alt2"><code class="cpp preprocessor">#define REG_REG76&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x76 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // OV's name</code></div><div class="line number150 index149 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; R76_BLKPCOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Black pixel correction enable</code></div><div class="line number151 index150 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; R76_WHTPCOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; White pixel correction enable</code></div><div class="line number152 index151 alt1">&nbsp;</div><div class="line number153 index152 alt2"><code class="cpp preprocessor">#define REG_RGB444&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x8c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // RGB 444 control</code></div><div class="line number154 index153 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; R444_ENABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Turn on RGB444, overrides 5x5</code></div><div class="line number155 index154 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; R444_RGBX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Empty nibble at end</code></div><div class="line number156 index155 alt1">&nbsp;</div><div class="line number157 index156 alt2"><code class="cpp preprocessor">#define REG_HAECC1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x9f )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 1</code></div><div class="line number158 index157 alt1"><code class="cpp preprocessor">#define REG_HAECC2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa0 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 2</code></div><div class="line number159 index158 alt2">&nbsp;</div><div class="line number160 index159 alt1"><code class="cpp preprocessor">#define REG_BD50MAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa5 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 50hz banding step limit */</code></div><div class="line number161 index160 alt2"><code class="cpp preprocessor">#define REG_HAECC3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa6 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 3 */</code></div><div class="line number162 index161 alt1"><code class="cpp preprocessor">#define REG_HAECC4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa7 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 4 */</code></div><div class="line number163 index162 alt2"><code class="cpp preprocessor">#define REG_HAECC5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa8 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 5 */</code></div><div class="line number164 index163 alt1"><code class="cpp preprocessor">#define REG_HAECC6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa9 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 6 */</code></div><div class="line number165 index164 alt2"><code class="cpp preprocessor">#define REG_HAECC7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xaa )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 7 */</code></div><div class="line number166 index165 alt1"><code class="cpp preprocessor">#define REG_BD60MAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xab )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 60hz banding step limit */</code></div><div class="line number167 index166 alt2">&nbsp;</div><div class="line number168 index167 alt1">&nbsp;</div><div class="line number169 index168 alt2"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number170 index169 alt1"><code class="cpp comments">// The default register settings, as obtained from OmniVision.&nbsp; There</code></div><div class="line number171 index170 alt2"><code class="cpp comments">// is really no making sense of most of these - lots of "reserved" values</code></div><div class="line number172 index171 alt1"><code class="cpp comments">// and such.</code></div><div class="line number173 index172 alt2"><code class="cpp comments">// </code></div><div class="line number174 index173 alt1"><code class="cpp comments">// These settings give VGA YUYV.</code></div><div class="line number175 index174 alt2"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number176 index175 alt1"><code class="cpp keyword bold">struct</code> <code class="cpp plain">regval_list </code></div><div class="line number177 index176 alt2"><code class="cpp plain">{</code></div><div class="line number178 index177 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">reg_num;</code></div><div class="line number179 index178 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">value;</code></div><div class="line number180 index179 alt1"><code class="cpp plain">};</code></div><div class="line number181 index180 alt2">&nbsp;</div><div class="line number182 index181 alt1">&nbsp;</div><div class="line number183 index182 alt2">&nbsp;</div><div class="line number184 index183 alt1">&nbsp;</div><div class="line number185 index184 alt2"><code class="cpp keyword bold">static</code> <code class="cpp keyword bold">struct</code> <code class="cpp plain">regval_list OV7670_reg[] =</code></div><div class="line number186 index185 alt1"><code class="cpp plain">{</code></div><div class="line number187 index186 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM7, COM7_RESET }, </code></div><div class="line number188 index187 alt1">&nbsp;</div><div class="line number189 index188 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// OV7670 + FIFO</code></div><div class="line number190 index189 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_GAIN, 0x00 },</code></div><div class="line number191 index190 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_BLUE, 0x80 },</code></div><div class="line number192 index191 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_RED , 0x80 },</code></div><div class="line number193 index192 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x3a, 0x04},</code><code class="cpp comments">//</code></div><div class="line number194 index193 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x40, 0x10},</code></div><div class="line number195 index194 alt2"><code class="cpp comments">//&nbsp; {0x12, 0x14},</code></div><div class="line number196 index195 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM7, COM7_FMT_QVGA | COM7_RGB }, </code></div><div class="line number197 index196 alt2"><code class="cpp comments">//&nbsp; { REG_COM7, COM7_FMT_QCIF | COM7_RGB }, </code></div><div class="line number198 index197 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x32, 0x80},</code></div><div class="line number199 index198 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x17, 0x16},</code></div><div class="line number200 index199 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number201 index200 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x18, 0x04},</code><code class="cpp comments">//5</code></div><div class="line number202 index201 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x19, 0x02},</code></div><div class="line number203 index202 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x1a, 0x7b},</code><code class="cpp comments">//0x7a,</code></div><div class="line number204 index203 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x03, 0x06},</code><code class="cpp comments">//0x0a,</code></div><div class="line number205 index204 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0c, 0x0c},</code></div><div class="line number206 index205 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x15, 0x02},</code></div><div class="line number207 index206 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x3e, 0x00},</code><code class="cpp comments">//10</code></div><div class="line number208 index207 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x70, 0x00},</code></div><div class="line number209 index208 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x71, 0x01},</code></div><div class="line number210 index209 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x72, 0x11},</code></div><div class="line number211 index210 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x73, 0x09},</code><code class="cpp comments">//</code></div><div class="line number212 index211 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number213 index212 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa2, 0x02},</code><code class="cpp comments">//15</code></div><div class="line number214 index213 alt1"><code class="cpp comments">//&nbsp; {0x11, 0x00},</code></div><div class="line number215 index214 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{REG_CLKRC, 0x01 },</code></div><div class="line number216 index215 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7a, 0x20},</code></div><div class="line number217 index216 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7b, 0x1c},</code></div><div class="line number218 index217 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7c, 0x28},</code></div><div class="line number219 index218 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number220 index219 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7d, 0x3c},</code><code class="cpp comments">//20</code></div><div class="line number221 index220 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7e, 0x55},</code></div><div class="line number222 index221 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7f, 0x68},</code></div><div class="line number223 index222 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x80, 0x76},</code></div><div class="line number224 index223 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x81, 0x80},</code></div><div class="line number225 index224 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number226 index225 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x82, 0x88},</code></div><div class="line number227 index226 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x83, 0x8f},</code></div><div class="line number228 index227 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x84, 0x96},</code></div><div class="line number229 index228 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x85, 0xa3},</code></div><div class="line number230 index229 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x86, 0xaf},</code></div><div class="line number231 index230 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number232 index231 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x87, 0xc4},</code><code class="cpp comments">//30</code></div><div class="line number233 index232 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x88, 0xd7},</code></div><div class="line number234 index233 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x89, 0xe8},</code></div><div class="line number235 index234 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x13, 0xe0},</code></div><div class="line number236 index235 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x00, 0x00},</code><code class="cpp comments">//AGC</code></div><div class="line number237 index236 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number238 index237 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x10, 0x00},</code></div><div class="line number239 index238 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0d, 0x00},</code></div><div class="line number240 index239 alt1"><code class="cpp comments">//&nbsp; {0x14, 0x20},//0x38, limit the max gain</code></div><div class="line number241 index240 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM9, COM9_AGC_4X },</code></div><div class="line number242 index241 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa5, 0x05},</code></div><div class="line number243 index242 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xab, 0x07},</code></div><div class="line number244 index243 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number245 index244 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x24, 0x75},</code><code class="cpp comments">//40</code></div><div class="line number246 index245 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x25, 0x63},</code></div><div class="line number247 index246 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x26, 0xA5},</code></div><div class="line number248 index247 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x9f, 0x78},</code></div><div class="line number249 index248 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa0, 0x68},</code></div><div class="line number250 index249 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number251 index250 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa1, 0x03},</code><code class="cpp comments">//0x0b,</code></div><div class="line number252 index251 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa6, 0xdf},</code><code class="cpp comments">//0xd8,</code></div><div class="line number253 index252 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa7, 0xdf},</code><code class="cpp comments">//0xd8,</code></div><div class="line number254 index253 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa8, 0xf0},</code></div><div class="line number255 index254 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa9, 0x90},</code></div><div class="line number256 index255 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number257 index256 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xaa, 0x94},</code><code class="cpp comments">//50</code></div><div class="line number258 index257 alt1"><code class="cpp comments">//&nbsp; {0x13, 0xe5},</code></div><div class="line number259 index258 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{REG_COM8, COM8_FASTAEC | COM8_AECSTEP | COM8_BFILT | COM8_AGC | COM8_AWB | COM8_AEC},</code></div><div class="line number260 index259 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0e, 0x61},</code></div><div class="line number261 index260 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0f, 0x4b},</code></div><div class="line number262 index261 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x16, 0x02},</code></div><div class="line number263 index262 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number264 index263 alt1"><code class="cpp comments">//&nbsp; {0x1e, 0x27},//0x07,</code></div><div class="line number265 index264 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{REG_MVFP, 0x37 },</code></div><div class="line number266 index265 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x21, 0x02},</code></div><div class="line number267 index266 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x22, 0x91},</code></div><div class="line number268 index267 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x29, 0x07},</code></div><div class="line number269 index268 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x33, 0x0b},</code></div><div class="line number270 index269 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number271 index270 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x35, 0x0b},</code><code class="cpp comments">//60</code></div><div class="line number272 index271 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x37, 0x1d},</code></div><div class="line number273 index272 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x38, 0x71},</code></div><div class="line number274 index273 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x39, 0x2a},</code></div><div class="line number275 index274 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x3c, 0x78},</code></div><div class="line number276 index275 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number277 index276 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x4d, 0x40},</code></div><div class="line number278 index277 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x4e, 0x20},</code></div><div class="line number279 index278 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x69, 0x5d},</code></div><div class="line number280 index279 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6b, 0x40},</code><code class="cpp comments">//PLL</code></div><div class="line number281 index280 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x74, 0x19},</code></div><div class="line number282 index281 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x8d, 0x4f},</code></div><div class="line number283 index282 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number284 index283 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x8e, 0x00},</code><code class="cpp comments">//70</code></div><div class="line number285 index284 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x8f, 0x00},</code></div><div class="line number286 index285 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x90, 0x00},</code></div><div class="line number287 index286 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x91, 0x00},</code></div><div class="line number288 index287 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x92, 0x00},</code><code class="cpp comments">//0x19,//0x66</code></div><div class="line number289 index288 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number290 index289 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x96, 0x00},</code></div><div class="line number291 index290 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x9a, 0x80},</code></div><div class="line number292 index291 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb0, 0x84},</code></div><div class="line number293 index292 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb1, 0x0c},</code></div><div class="line number294 index293 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb2, 0x0e},</code></div><div class="line number295 index294 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number296 index295 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb3, 0x82},</code><code class="cpp comments">//80</code></div><div class="line number297 index296 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb8, 0x0a},</code></div><div class="line number298 index297 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x43, 0x14},</code></div><div class="line number299 index298 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x44, 0xf0},</code></div><div class="line number300 index299 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x45, 0x34},</code></div><div class="line number301 index300 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number302 index301 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x46, 0x58},</code></div><div class="line number303 index302 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x47, 0x28},</code></div><div class="line number304 index303 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x48, 0x3a},</code></div><div class="line number305 index304 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x59, 0x88},</code></div><div class="line number306 index305 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5a, 0x88},</code></div><div class="line number307 index306 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number308 index307 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5b, 0x44},</code><code class="cpp comments">//90</code></div><div class="line number309 index308 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5c, 0x67},</code></div><div class="line number310 index309 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5d, 0x49},</code></div><div class="line number311 index310 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5e, 0x0e},</code></div><div class="line number312 index311 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x64, 0x04},</code></div><div class="line number313 index312 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x65, 0x20},</code></div><div class="line number314 index313 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number315 index314 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x66, 0x05},</code></div><div class="line number316 index315 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x94, 0x04},</code></div><div class="line number317 index316 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x95, 0x08},</code></div><div class="line number318 index317 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6c, 0x0a},</code></div><div class="line number319 index318 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6d, 0x55},</code></div><div class="line number320 index319 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number321 index320 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number322 index321 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x4f, 0x80},</code></div><div class="line number323 index322 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x50, 0x80},</code></div><div class="line number324 index323 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x51, 0x00},</code></div><div class="line number325 index324 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x52, 0x22},</code></div><div class="line number326 index325 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x53, 0x5e},</code></div><div class="line number327 index326 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x54, 0x80},</code></div><div class="line number328 index327 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number329 index328 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//{0x54, 0x40},//110</code></div><div class="line number330 index329 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number331 index330 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number332 index331 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6e, 0x11},</code><code class="cpp comments">//100</code></div><div class="line number333 index332 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6f, 0x9f},</code><code class="cpp comments">//0x9e for advance AWB</code></div><div class="line number334 index333 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x55, 0x00},</code><code class="cpp comments">//</code></div><div class="line number335 index334 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x56, 0x40},</code><code class="cpp comments">//</code></div><div class="line number336 index335 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x57, 0x80},</code><code class="cpp comments">//0x40,&nbsp; change according to Jim's request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number337 index336 alt2"><code class="cpp comments">//&nbsp; { REG_COM17, COM17_CBAR },&nbsp;&nbsp;&nbsp; // カラーバーを表示</code></div><div class="line number338 index337 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number339 index338 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xff, 0xff },</code></div><div class="line number340 index339 alt1"><code class="cpp plain">};</code></div><div class="line number341 index340 alt2"><code class="cpp preprocessor">#endif&nbsp; // #ifndef __SENSOR_CONFIG_H__</code></div></div></td></tr></tbody></table></div></div>

   <!-- ▼　追記 ▼ -->
      <div class="fc2_footer" style="text-align:left;vertical-align:middle;height:auto;"><a href="javascript:;" onclick="javascript:window.open(&#39;http://blogvote.fc2.com/pickup/mibc/32/clap&#39;);"><img src="./OV7670 + FIFO   MIBC備忘録_files/2.gif" style="border:0;"></a> </div>

<!-- overture ad -->
<style type="text/css">
<!--
#ovtAdContainer {
	width: 100%;
	padding: 25px 0 15px;
	overflow: hidden;
}
#ovtAdContainer img{
	background-color:transparent;
	background-image:none;
	border:none;
	margin:0;
	padding:0;
}
#ovtAdContainer .adBlock
{
    padding: 8px 20px 8px;
    overflow: hidden;
    cursor: pointer;
    background: none;
}
#ovtAdContainer .adBlockHover
{
    padding: 8px 20px 8px;
    overflow: hidden;
    cursor: pointer;
    background: #FFEEEE;
}
#ovtAdContainer .adTitle
{
    font-weight: bold;
}
#ovtAdContainer .adDescription
{
    padding: 4px 0 0;
}
#ovtAdContainer .adURL
{
    padding: 3px 0 0;
}
-->
</style>
<script type="text/javascript" language="javascript">
<!--

function ShowListings() {
	var i=6;
	
	if (zSr[i] != null){
		document.write('<div id="ovtAdContainer"><div class="adBlock"><a href="http://ov.yahoo.co.jp/service/int/index.html?o=IM0021" target="_blank">スポンサーサイト</a></div>');
		
		//var element = document.getElementById('ovtAdContainer').parentNode;
	    //var style   = element.currentStyle || document.defaultView.getComputedStyle(element, null);
		
		adCount = 0;
		while (i < zSr.length) {
			var descr    = zSr[i++]; // listing description
			var unused1  = zSr[i++]; // (ignore)
			var clickURL = zSr[i++]; // listing link
			var title    = zSr[i++]; // listing title
			var sitehost = zSr[i++]; // advertiserfs domain name
			var unused2  = zSr[i++]; // (ignore)
			
			document.write('<div id="adCount' + adCount + '" class="adBlock" onmouseout="adBlock(this)" onmouseover="adBlockHover(this)" onclick="javascript: adSubmit(\'' + clickURL + '\')">');
			document.write('<img src="i/image/rank_0' + (adCount + 1) +  '.gif" alt="" border="0" />&nbsp;');
			document.write('<a class="adTitle" href="javascript: void(0)">' + title + '</a> - ');
			document.write('<a class="adTitle" href="javascript: void(0)">' + sitehost + '</a><br />');
			document.write('<span class="adDescription">' + descr + '</span><br />');
			//document.write('<span class="adURL">' +  + '</span>');
			document.write('</div>');
			
			adCount++;
		}
		
		document.write('</div>');
	}
	document.write('<img src="http://media.fc2.com/counter_img.php?id=595" alt="FC2 Management" class="adcount" />');
}
function adSubmit(url)
{
    window.open(url);
}

function adBlock(el){
    el.className = 'adBlock';
}

function adBlockHover(el){
    el.className = 'adBlockHover';
}

// -->
</script>

<script type="text/javascript" language="javascript">
<!--
document.write('<scr' + 'ipt type="text/javascript" language="javascript"');
document.write('src="http://im.gmo.ov.yahoo.co.jp/js_flat/?source=gmo_jp_blogfc2_im&ctxtId=fc2blog_pc&ctxtUrl=http%3A%2F%2Ffc2.com%2F&crawlUrl=http%3A%2F%2Fmibc.blog.fc2.com%2F&maxCount=3&outputCharEnc=utf8');
document.write('"></scr' + 'ipt>');

// -->
</script><script type="text/javascript" language="javascript" src="./OV7670 + FIFO   MIBC備忘録_files/saved_resource(1)"></script>
<!-- Extract and display sponsored listings -->

<script type="text/javascript" language="javascript">
<!--
ShowListings();
// -->
</script><div id="ovtAdContainer"><div class="adBlock"><a href="http://ov.yahoo.co.jp/service/int/index.html?o=IM0021" target="_blank">スポンサーサイト</a></div><div id="adCount0" class="adBlock" onmouseout="adBlock(this)" onmouseover="adBlockHover(this)" onclick="javascript: adSubmit(&#39;http://rd.ane.yahoo.co.jp/rd?ep=M1s7TLUZ7SbFH3MYGw3c3ZZmUXi6Rzww9p4JSIY9yq6YHvbPf3jAgGUNDo00YZqijjeFPqNUvmPZeGrfN6B3.UKA1xTQsi3lnwBRWiXp.aK5EWD2PWdseqVYORJ5YqfLTkcCCrAV5AivPlAt2SJI36QygRdrB9V3SjOt8jrNsz.t.sgWkyPgx_xwfA--&amp;a=hAOHKFc_xD517CGCxg--&amp;s=oG6oTt85lzxV&amp;t=QTE.Uwlhwyu9&amp;C=9&amp;D=1&amp;I=&amp;RI=68e04289b42368fa6745b827d555a31c&amp;S=124a4090a104&amp;as=1&amp;f=1&amp;ff=0&amp;g=2&amp;maf=0&amp;mid=0&amp;o=9&amp;p=9&amp;qfid=&amp;r=0&amp;sfid=0&amp;F=0&amp;u=fc2.com&#39;)"><img src="./OV7670 + FIFO   MIBC備忘録_files/rank_01.gif" alt="" border="0">&nbsp;<a class="adTitle" href="javascript: void(0)">ガンダムゲーム史上、最大規模！</a> - <a class="adTitle" href="javascript: void(0)">msgo.bandainamco-ol.jp</a><br><span class="adDescription">機動戦士ガンダムオンライン！100人同時対戦。PC専用《正式サービス開始》</span><br></div><div id="adCount1" class="adBlock" onmouseout="adBlock(this)" onmouseover="adBlockHover(this)" onclick="javascript: adSubmit(&#39;http://rd.ane.yahoo.co.jp/rd?ep=RI4l_O4Z7SannsuBihKl4Po422BQynRTIqdHaDa2QMMbym07hG9xuTVag7jdLSLEHgd7YsqSwFWPGSMwxmwROdO8fwcUJcas72AH_vAbreQnZDc_iS13wAcqdCR7pqGnvuEwstbm5u02FzSOU2mxHyPTOiDjk5teWNwTta.yqmFgSdlgDK3TddM-&amp;a=XAuIA6Y_xD6Gb_ufzg--&amp;s=oG6oTt85lzxV&amp;t=QTE.Uwlhwyu9&amp;C=9&amp;D=1&amp;I=&amp;RI=68e04289b42368fa6745b827d555a31c&amp;S=124a4090a104&amp;as=1&amp;f=2&amp;ff=0&amp;g=4&amp;maf=0&amp;mid=0&amp;o=9&amp;p=9&amp;qfid=&amp;r=0&amp;sfid=0&amp;F=0&amp;u=fc2.com&#39;)"><img src="./OV7670 + FIFO   MIBC備忘録_files/rank_02.gif" alt="" border="0">&nbsp;<a class="adTitle" href="javascript: void(0)">《断食ダイエット》するなら…</a> - <a class="adTitle" href="javascript: void(0)">www.beautyplanning.jp</a><br><span class="adDescription">栄養にも気を付けて《ベジーデル酵素液》送料無料！女性愛用者急増中！</span><br></div><div id="adCount2" class="adBlock" onmouseout="adBlock(this)" onmouseover="adBlockHover(this)" onclick="javascript: adSubmit(&#39;http://rd.ane.yahoo.co.jp/rd?ep=TFXNf6gZ7SZchBgaadMrl28NHuoQRvWnxk33a.b4uiUrExWDNSZlFukzml80oinnCba4XHN9YrkFMLLVpmieqPkEan.9Ur_nshk2oojA_ubC7h7geRxTXjG.GVAD7vOoyOXlF3H_zxhU42_G8HTWXFjPP6zmHXD4BtWlJP00qtN0e2SGBdC4cJ8j&amp;a=KPatSgY_xD61K92fag--&amp;s=oG6oTt85lzxV&amp;t=QTE.Uwlhwyu9&amp;C=9&amp;D=1&amp;I=&amp;RI=68e04289b42368fa6745b827d555a31c&amp;S=124a4090a104&amp;as=1&amp;f=1&amp;ff=0&amp;g=4&amp;maf=0&amp;mid=0&amp;o=9&amp;p=9&amp;qfid=&amp;r=0&amp;sfid=0&amp;F=0&amp;u=fc2.com&#39;)"><img src="./OV7670 + FIFO   MIBC備忘録_files/rank_03.gif" alt="" border="0">&nbsp;<a class="adTitle" href="javascript: void(0)">4-50代にうれしい自動車保険</a> - <a class="adTitle" href="javascript: void(0)">www.ins-saison.co.jp</a><br><span class="adDescription">《おとなの自動車保険》事故対応サービスは顧客満足度95.4％</span><br></div></div><img src="./OV7670 + FIFO   MIBC備忘録_files/counter_img(1).php" alt="FC2 Management" class="adcount">

<!-- overtue ad -->


   <!-- ▼　ソーシャルリンク ▼ -->
   <div class="rn-social">
      <ul class="clearfix">
         <li class="rn-hatena"><a href="http://b.hatena.ne.jp/entry/http://mibc.blog.fc2.com/blog-entry-32.html" class="hatena-bookmark-button" data-hatena-bookmark-title="OV7670 + FIFOカメラ(5)" data-hatena-bookmark-layout="simple" data-hatena-bookmark-initialized="1">.</a><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/bookmark_button.js" charset="utf-8" async="async"></script></li> 
         <li class="rn-tweet"><a href="http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-32.html&text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%285%29" onclick="javascript:window.open(&#39;http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-32.html&amp;text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%285%29&#39; ,null ,&#39;width=550 ,height=450, left=500, top=300&#39;); return false;">.</a></li> 
         <li class="rn-face"><a href="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-32.html" onclick="javascript:window.open(&#39;http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-32.html&#39; ,null ,&#39;width=400 ,height=100, left=500, top=300&#39;); return false;">.</a></li>
         <li class="rn-yahoo"><a href="http://bookmarks.yahoo.co.jp/action/bookmark?t=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%285%29&u=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-32.html" target="_blank">.</a></li>
         <li class="rn-live"><a href="http://clip.livedoor.com/clip/add?link=http://mibc.blog.fc2.com/blog-entry-32.html&title=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%285%29&jump=ref" target="_blank">.</a></li> 
      </ul>
   </div>

   <!-- ▼ メタデータ ▼ -->
   <p class="entry-footer">Entry ⇒ 2012.08.04  ｜ Category ⇒ <a href="./OV7670 + FIFO   MIBC備忘録_files/OV7670 + FIFO   MIBC備忘録.htm">OV7670 + FIFO</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-32.html#comments">Comments (0)</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-32.html#trackbacks" title="trackbacks32">Trackbacks (0)</a></p>
   <!--
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
            xmlns:dc="http://purl.org/dc/elements/1.1/">
   <rdf:Description
       rdf:about="http://mibc.blog.fc2.com/blog-entry-32.html"
       trackback:ping="http://mibc.blog.fc2.com/tb.php/32-70a2cf4f"
       dc:title="OV7670 + FIFOカメラ(5)"
       dc:identifier="http://mibc.blog.fc2.com/blog-entry-32.html"
       dc:subject="OV7670 + FIFO"
       dc:description="「OV7670 + FIFOカメラ(4)」で動いているものを撮影するときれいに撮影できない原因は、撮影データを読込み中も撮影画像が書き込まれているために発生していました。（撮影画像１枚をRS232Cで送信している間に、書込み側は何枚もの画像を書込みしていました）

上記より、撮影画像を読込んでいる間は撮影画像の書込みをできないように制御することにしました。
書込み側はVSYNC（撮影画像の始まり）が来るとWrite Resetを行い、..."
       dc:creator="MIBC"
       dc:date="2012-08-04T18:54:21+09:00" />
   </rdf:RDF>
   -->

</div><!-- ▼　記事タイトル ▼ -->
<h2 id="a31" class="entry-title"><a href="http://mibc.blog.fc2.com/blog-entry-31.html">OV7670 + FIFOカメラ(4)</a></h2>
<!-- ▼　エントリー ▼ -->
<div class="entry-body">
   １日掛けてOV7670の設定を弄って色々ためしてもピンボケ画像しが表示することができず、他の方のホームページを見ていたところ「レンズを回してピントを合わせる」という記載を見つけました。<br>まさかコレではと思い試したところ、何度かピントを合わせていくうちにきれいに表示されました…<br>色々と遠回りしましたが、一応表示することができました。<br><a href="http://mibc.blog.fc2.com/img/Camera04.png/" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/Camera04.png" alt="Camera04.png" border="0" width="200" height="268"></a><br><br><br><a href="http://mibc.blog.fc2.com/blog-entry-30.html" target="_blank" title="このまえ作成したRS-232Cクラス">このまえ作成したRS-232Cクラス</a>を使用して、OV7670から取得した画像データ(QVGA_RGB565)を表示したところ。<br><a href="http://mibc.blog.fc2.com/img/Camera05.png/" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/Camera05.png" alt="Camera05.png" border="0" width="220" height="230"></a><br>※静止しているものを撮影した場合はきれいに表示されるのですが、動いているものを撮影すると上の画像のようになります。
   <!-- ▼　追記 ▼ -->
      <div class="fc2_footer" style="text-align:left;vertical-align:middle;height:auto;"><a href="javascript:;" onclick="javascript:window.open(&#39;http://blogvote.fc2.com/pickup/mibc/31/clap&#39;);"><img src="./OV7670 + FIFO   MIBC備忘録_files/w-white.gif" style="border:0;"></a> </div>
   <!-- ▼　ソーシャルリンク ▼ -->
   <div class="rn-social">
      <ul class="clearfix">
         <li class="rn-hatena"><a href="http://b.hatena.ne.jp/entry/http://mibc.blog.fc2.com/blog-entry-31.html" class="hatena-bookmark-button" data-hatena-bookmark-title="OV7670 + FIFOカメラ(4)" data-hatena-bookmark-layout="simple" data-hatena-bookmark-initialized="1">.</a><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/bookmark_button.js" charset="utf-8" async="async"></script></li> 
         <li class="rn-tweet"><a href="http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-31.html&text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%284%29" onclick="javascript:window.open(&#39;http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-31.html&amp;text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%284%29&#39; ,null ,&#39;width=550 ,height=450, left=500, top=300&#39;); return false;">.</a></li> 
         <li class="rn-face"><a href="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-31.html" onclick="javascript:window.open(&#39;http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-31.html&#39; ,null ,&#39;width=400 ,height=100, left=500, top=300&#39;); return false;">.</a></li>
         <li class="rn-yahoo"><a href="http://bookmarks.yahoo.co.jp/action/bookmark?t=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%284%29&u=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-31.html" target="_blank">.</a></li>
         <li class="rn-live"><a href="http://clip.livedoor.com/clip/add?link=http://mibc.blog.fc2.com/blog-entry-31.html&title=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%284%29&jump=ref" target="_blank">.</a></li> 
      </ul>
   </div>

   <!-- ▼ メタデータ ▼ -->
   <p class="entry-footer">Entry ⇒ 2012.08.04  ｜ Category ⇒ <a href="./OV7670 + FIFO   MIBC備忘録_files/OV7670 + FIFO   MIBC備忘録.htm">OV7670 + FIFO</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-31.html#comments">Comments (0)</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-31.html#trackbacks" title="trackbacks31">Trackbacks (0)</a></p>
   <!--
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
            xmlns:dc="http://purl.org/dc/elements/1.1/">
   <rdf:Description
       rdf:about="http://mibc.blog.fc2.com/blog-entry-31.html"
       trackback:ping="http://mibc.blog.fc2.com/tb.php/31-4b34365e"
       dc:title="OV7670 + FIFOカメラ(4)"
       dc:identifier="http://mibc.blog.fc2.com/blog-entry-31.html"
       dc:subject="OV7670 + FIFO"
       dc:description="１日掛けてOV7670の設定を弄って色々ためしてもピンボケ画像しが表示することができず、他の方のホームページを見ていたところ「レンズを回してピントを合わせる」という記載を見つけました。まさかコレではと思い試したところ、何度かピントを合わせていくうちにきれいに表示されました…色々と遠回りしましたが、一応表示することができました。このまえ作成したRS&#45;232Cクラスを使用して、OV7670から取得した画像データ(QVGA_RGB5..."
       dc:creator="MIBC"
       dc:date="2012-08-04T16:09:28+09:00" />
   </rdf:RDF>
   -->

</div><!-- ▼　記事タイトル ▼ -->
<h2 id="a29" class="entry-title"><a href="http://mibc.blog.fc2.com/blog-entry-29.html">OV7670 + FIFOカメラ (3.5) </a></h2>
<!-- ▼　エントリー ▼ -->
<div class="entry-body">
   土日にOV7670の設定を弄ろうと思っていたのですが、別な用事が入ってしまいできませんでした。
とりあえず、先週末にカラーバーを表示したソースを載せておきます。<br>
※OV7670の設定処理はリナックスドライバの処理と購入先のサンプルプログラムを参照しましたが、最終的に購入先のサンプルプログラムを使用させていただきました。<br>
<br>
OV7670 + FIFOの回路図を参照すると、AL422のWriteReset(Active Low)がOV7670のVSYNCと繋がっているので、AL422のWriteResetを行うためにVSYNCの信号を反転させる必要があります。（OV7670の設定のCOM10(レジスタアドレス：0x15)のBit[1](VSYNC negative)を有効にする）
<a href="http://mibc.blog.fc2.com/img/Camera02.png/" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/Camera02.png" alt="Camera02.png" border="0" width="494" height="274" style="opacity: 1;"></a>&lt;<br>
<br>
<br>タクトスイッチを押したときの画像データ(RGB565)をシリアル通信で送るプログラム。<rb>
<br>
■プログラム<br>
・メイン<br>
※割込み処理でAL422の書込み制御を行いましたが、割り込みが来るのが遅いため割込み来たときにOV7670は画像データをAL422へ書込み開始していました。このため割込み処理はコメントととしてプログラムに残しています。<br>
<div><div id="highlighter_863954" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include "avr/io.h"</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include "stdbool.h"</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include "avr/interrupt.h"</code></div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#include "util/delay.h"</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#include "Sensor.h"</code></div><div class="line number6 index5 alt1"><code class="cpp preprocessor">#include "alloca.h"</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="cpp preprocessor">#define AL422_OE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Output enable</code></div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#define AL422_RCK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Read clock</code></div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#define AL422_NC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA4)</code></div><div class="line number11 index10 alt2"><code class="cpp preprocessor">#define AL422_RRST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Read Reset(actve low)</code></div><div class="line number12 index11 alt1"><code class="cpp preprocessor">#define HREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA2)</code></div><div class="line number13 index12 alt2"><code class="cpp preprocessor">#define AL422_WEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Write Enable(activ low)</code></div><div class="line number14 index13 alt1"><code class="cpp preprocessor">#define VSYNC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA0)</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="cpp preprocessor">#define BAUD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 115200L )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 目的USARTﾎﾞｰﾚｰﾄ速度</code></div><div class="line number18 index17 alt1"><code class="cpp preprocessor">#define MYUBRR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; F_CPU / 16 / BAUD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 目的UBRRn値</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="cpp keyword bold">volatile</code> <code class="cpp plain">uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bn;</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="cpp comments">//---------------------------------------------------------</code></div><div class="line number24 index23 alt1"><code class="cpp comments">// USART初期化処理</code></div><div class="line number25 index24 alt2"><code class="cpp comments">//---------------------------------------------------------</code></div><div class="line number26 index25 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">USART_Init( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">)</code></div><div class="line number27 index26 alt2"><code class="cpp plain">{</code></div><div class="line number28 index27 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">DDRD&nbsp; = 0b11111100;</code></div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTD = 0b00000000;</code></div><div class="line number30 index29 alt1">&nbsp;</div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">UBRR0H = (unsigned </code><code class="cpp color1 bold">char</code><code class="cpp plain">)(MYUBRR &gt;&gt; 8);</code></div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">UBRR0L = (unsigned </code><code class="cpp color1 bold">char</code><code class="cpp plain">)(MYUBRR);</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">UCSR0A = 0b00000000;</code></div><div class="line number36 index35 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">UCSR0B = 0b00011000;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// 受信許可・送信許可</code></div><div class="line number37 index36 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">UCSR0C = 0b00000110;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// 非同期・パリティなし・停止ビット：1bit・データビット：8bit</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code><code class="cpp plain">;</code></div><div class="line number40 index39 alt1"><code class="cpp plain">}</code></div><div class="line number41 index40 alt2"><code class="cpp comments">//---------------------------------------------------------</code></div><div class="line number42 index41 alt1"><code class="cpp comments">// 受信処理</code></div><div class="line number43 index42 alt2"><code class="cpp comments">//---------------------------------------------------------</code></div><div class="line number44 index43 alt1"><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">USART_Receive(</code><code class="cpp keyword bold">void</code><code class="cpp plain">)</code></div><div class="line number45 index44 alt2"><code class="cpp plain">{</code></div><div class="line number46 index45 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 受信完了待ち</code></div><div class="line number47 index46 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code> <code class="cpp plain">( !(UCSR0A &amp; 0b10000000) );</code></div><div class="line number48 index47 alt1">&nbsp;</div><div class="line number49 index48 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">UDR0;</code></div><div class="line number50 index49 alt1"><code class="cpp plain">}</code></div><div class="line number51 index50 alt2">&nbsp;</div><div class="line number52 index51 alt1"><code class="cpp comments">//---------------------------------------------------------</code></div><div class="line number53 index52 alt2"><code class="cpp comments">// 送信処理</code></div><div class="line number54 index53 alt1"><code class="cpp comments">//---------------------------------------------------------</code></div><div class="line number55 index54 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">USART_Transmit( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Data)</code></div><div class="line number56 index55 alt1"><code class="cpp plain">{</code></div><div class="line number57 index56 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 送信バッファが空きになるまで待つ</code></div><div class="line number58 index57 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code> <code class="cpp plain">( !(UCSR0A &amp; 0b00100000) );</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">UDR0 = Data;</code></div><div class="line number61 index60 alt2"><code class="cpp plain">}</code></div><div class="line number62 index61 alt1">&nbsp;</div><div class="line number63 index62 alt2">&nbsp;</div><div class="line number64 index63 alt1">&nbsp;</div><div class="line number65 index64 alt2"><code class="cpp comments">//ISR( PCINT0_vect )</code></div><div class="line number66 index65 alt1"><code class="cpp comments">//{</code></div><div class="line number67 index66 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//if ( bn == 0)</code></div><div class="line number68 index67 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//{</code></div><div class="line number69 index68 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//PORTA = PORTA | AL422_WEN;</code></div><div class="line number70 index69 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//bn = 1;</code></div><div class="line number71 index70 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//}</code></div><div class="line number72 index71 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//else if ( bn == 1 )</code></div><div class="line number73 index72 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//{</code></div><div class="line number74 index73 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//PORTA = PORTA &amp;~(AL422_WEN);</code></div><div class="line number75 index74 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//bn = 2;</code></div><div class="line number76 index75 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//}</code></div><div class="line number77 index76 alt2"><code class="cpp comments">//}</code></div><div class="line number78 index77 alt1">&nbsp;</div><div class="line number79 index78 alt2">&nbsp;</div><div class="line number80 index79 alt1"><code class="cpp color1 bold">int</code> <code class="cpp plain">main(</code><code class="cpp keyword bold">void</code><code class="cpp plain">)</code></div><div class="line number81 index80 alt2"><code class="cpp plain">{</code></div><div class="line number82 index81 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">szBuff[ 20 ];</code></div><div class="line number83 index82 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">bRet = </code><code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number84 index83 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code>&nbsp;&nbsp; <code class="cpp plain">Data;</code></div><div class="line number85 index84 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i = 0;</code></div><div class="line number86 index85 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cnt = 0;</code></div><div class="line number87 index86 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">uint32_t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; j&nbsp; = 0;</code></div><div class="line number88 index87 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bn = 0;</code></div><div class="line number89 index88 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number90 index89 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//EICRA = 0b00000011;</code></div><div class="line number91 index90 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//EIMSK = 0b00000001;</code></div><div class="line number92 index91 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//PCICR = 0b00000001;</code></div><div class="line number93 index92 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//PCMSK0= 0b00000001;</code></div><div class="line number94 index93 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number95 index94 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number96 index95 alt1">&nbsp;</div><div class="line number97 index96 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number98 index97 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">_delay_ms(100);</code></div><div class="line number99 index98 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number100 index99 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">USART_Init();</code></div><div class="line number101 index100 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTD = 0b01000000;</code></div><div class="line number102 index101 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number103 index102 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">AL422_Init();</code></div><div class="line number104 index103 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bRet = Sensor_Init();</code></div><div class="line number105 index104 alt2">&nbsp;</div><div class="line number106 index105 alt1"><code class="cpp comments">//&nbsp; AL422_WriteReset();</code></div><div class="line number107 index106 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( bRet == </code><code class="cpp keyword bold">true</code> <code class="cpp plain">)</code></div><div class="line number108 index107 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number109 index108 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code> <code class="cpp plain">( 1 )</code></div><div class="line number110 index109 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number111 index110 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">AL422_WriteReset();</code></div><div class="line number112 index111 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">AL422_ReadReset();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number113 index112 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( bit_is_clear(PIND,PIND6)==</code><code class="cpp keyword bold">true</code> <code class="cpp plain">)</code></div><div class="line number114 index113 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number115 index114 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">for</code> <code class="cpp plain">( i = 0 ; i &lt; (76800) ; i++ )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// 320 x 240</code></div><div class="line number116 index115 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number117 index116 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Data = AL422_ReadEnable();</code></div><div class="line number118 index117 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">USART_Transmit(Data);</code></div><div class="line number119 index118 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Data = AL422_ReadEnable();</code></div><div class="line number120 index119 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">USART_Transmit(Data);</code></div><div class="line number121 index120 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number122 index121 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number123 index122 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp; </code></div><div class="line number124 index123 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number125 index124 alt2">&nbsp;</div><div class="line number126 index125 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">0;</code></div><div class="line number127 index126 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div><br>
<br>
<br>
・Senser.c<br>
<div><div id="highlighter_436054" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include "avr/io.h"</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include "stdbool.h"</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include "util/delay.h"</code></div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#include "Sensor.h"</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#include "Sensor_config.h"</code></div><div class="line number6 index5 alt1"><code class="cpp preprocessor">#include "I2C_Lib.h"</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp color1 bold">bool</code> <code class="cpp plain">Sensor_Init( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">)</code></div><div class="line number10 index9 alt1"><code class="cpp plain">{</code></div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">bRet = </code><code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number12 index11 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code>&nbsp;&nbsp; <code class="cpp plain">i = 0;</code></div><div class="line number13 index12 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// SCCB初期化</code></div><div class="line number15 index14 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">I2C_Init();</code></div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// OV7670設定</code></div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">i = 0;</code></div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( 1 )</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number21 index20 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// END MARKER?</code></div><div class="line number22 index21 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (OV7670_reg[i].reg_num == 0xFF) &amp;&amp; (OV7670_reg[i].value == 0xFF) )</code></div><div class="line number23 index22 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number24 index23 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">break</code><code class="cpp plain">;</code></div><div class="line number25 index24 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number26 index25 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bRet = SCCB_Write( OV7670_I2C_ADDR, OV7670_reg[i].reg_num, OV7670_reg[i].value );</code></div><div class="line number28 index27 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( bRet == </code><code class="cpp keyword bold">false</code> <code class="cpp plain">)</code></div><div class="line number29 index28 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number30 index29 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number31 index30 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number32 index31 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// デフォルト設定待ち</code></div><div class="line number34 index33 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( i == 0 ) _delay_ms(50);</code></div><div class="line number35 index34 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">i++;</code></div><div class="line number36 index35 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}&nbsp;&nbsp; </code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp keyword bold">true</code><code class="cpp plain">;&nbsp;&nbsp;&nbsp; </code></div><div class="line number39 index38 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div><br>
<br>
<br>
・Senser.h<br>
<div><div id="highlighter_661303" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#ifndef __SENSOR_H__</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#define __SENSOR_H__</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#include "avr/io.h"</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#include "stdbool.h"</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">Sensor_Init( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">);</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#endif&nbsp; // #ifndef __SENSOR_H__</code></div></div></td></tr></tbody></table></div></div><br>
<br>
<br>
・Senser_Config.h<br>
<div><div id="highlighter_220008" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div><div class="line number271 index270 alt2">271</div><div class="line number272 index271 alt1">272</div><div class="line number273 index272 alt2">273</div><div class="line number274 index273 alt1">274</div><div class="line number275 index274 alt2">275</div><div class="line number276 index275 alt1">276</div><div class="line number277 index276 alt2">277</div><div class="line number278 index277 alt1">278</div><div class="line number279 index278 alt2">279</div><div class="line number280 index279 alt1">280</div><div class="line number281 index280 alt2">281</div><div class="line number282 index281 alt1">282</div><div class="line number283 index282 alt2">283</div><div class="line number284 index283 alt1">284</div><div class="line number285 index284 alt2">285</div><div class="line number286 index285 alt1">286</div><div class="line number287 index286 alt2">287</div><div class="line number288 index287 alt1">288</div><div class="line number289 index288 alt2">289</div><div class="line number290 index289 alt1">290</div><div class="line number291 index290 alt2">291</div><div class="line number292 index291 alt1">292</div><div class="line number293 index292 alt2">293</div><div class="line number294 index293 alt1">294</div><div class="line number295 index294 alt2">295</div><div class="line number296 index295 alt1">296</div><div class="line number297 index296 alt2">297</div><div class="line number298 index297 alt1">298</div><div class="line number299 index298 alt2">299</div><div class="line number300 index299 alt1">300</div><div class="line number301 index300 alt2">301</div><div class="line number302 index301 alt1">302</div><div class="line number303 index302 alt2">303</div><div class="line number304 index303 alt1">304</div><div class="line number305 index304 alt2">305</div><div class="line number306 index305 alt1">306</div><div class="line number307 index306 alt2">307</div><div class="line number308 index307 alt1">308</div><div class="line number309 index308 alt2">309</div><div class="line number310 index309 alt1">310</div><div class="line number311 index310 alt2">311</div><div class="line number312 index311 alt1">312</div><div class="line number313 index312 alt2">313</div><div class="line number314 index313 alt1">314</div><div class="line number315 index314 alt2">315</div><div class="line number316 index315 alt1">316</div><div class="line number317 index316 alt2">317</div><div class="line number318 index317 alt1">318</div><div class="line number319 index318 alt2">319</div><div class="line number320 index319 alt1">320</div><div class="line number321 index320 alt2">321</div><div class="line number322 index321 alt1">322</div><div class="line number323 index322 alt2">323</div><div class="line number324 index323 alt1">324</div><div class="line number325 index324 alt2">325</div><div class="line number326 index325 alt1">326</div><div class="line number327 index326 alt2">327</div><div class="line number328 index327 alt1">328</div><div class="line number329 index328 alt2">329</div><div class="line number330 index329 alt1">330</div><div class="line number331 index330 alt2">331</div><div class="line number332 index331 alt1">332</div><div class="line number333 index332 alt2">333</div><div class="line number334 index333 alt1">334</div><div class="line number335 index334 alt2">335</div><div class="line number336 index335 alt1">336</div><div class="line number337 index336 alt2">337</div><div class="line number338 index337 alt1">338</div><div class="line number339 index338 alt2">339</div><div class="line number340 index339 alt1">340</div><div class="line number341 index340 alt2">341</div><div class="line number342 index341 alt1">342</div><div class="line number343 index342 alt2">343</div><div class="line number344 index343 alt1">344</div><div class="line number345 index344 alt2">345</div><div class="line number346 index345 alt1">346</div><div class="line number347 index346 alt2">347</div><div class="line number348 index347 alt1">348</div><div class="line number349 index348 alt2">349</div><div class="line number350 index349 alt1">350</div><div class="line number351 index350 alt2">351</div><div class="line number352 index351 alt1">352</div><div class="line number353 index352 alt2">353</div><div class="line number354 index353 alt1">354</div><div class="line number355 index354 alt2">355</div><div class="line number356 index355 alt1">356</div><div class="line number357 index356 alt2">357</div><div class="line number358 index357 alt1">358</div><div class="line number359 index358 alt2">359</div><div class="line number360 index359 alt1">360</div><div class="line number361 index360 alt2">361</div><div class="line number362 index361 alt1">362</div><div class="line number363 index362 alt2">363</div><div class="line number364 index363 alt1">364</div><div class="line number365 index364 alt2">365</div><div class="line number366 index365 alt1">366</div><div class="line number367 index366 alt2">367</div><div class="line number368 index367 alt1">368</div><div class="line number369 index368 alt2">369</div><div class="line number370 index369 alt1">370</div><div class="line number371 index370 alt2">371</div><div class="line number372 index371 alt1">372</div><div class="line number373 index372 alt2">373</div><div class="line number374 index373 alt1">374</div><div class="line number375 index374 alt2">375</div><div class="line number376 index375 alt1">376</div><div class="line number377 index376 alt2">377</div><div class="line number378 index377 alt1">378</div><div class="line number379 index378 alt2">379</div><div class="line number380 index379 alt1">380</div><div class="line number381 index380 alt2">381</div><div class="line number382 index381 alt1">382</div><div class="line number383 index382 alt2">383</div><div class="line number384 index383 alt1">384</div><div class="line number385 index384 alt2">385</div><div class="line number386 index385 alt1">386</div><div class="line number387 index386 alt2">387</div><div class="line number388 index387 alt1">388</div><div class="line number389 index388 alt2">389</div><div class="line number390 index389 alt1">390</div><div class="line number391 index390 alt2">391</div><div class="line number392 index391 alt1">392</div><div class="line number393 index392 alt2">393</div><div class="line number394 index393 alt1">394</div><div class="line number395 index394 alt2">395</div><div class="line number396 index395 alt1">396</div><div class="line number397 index396 alt2">397</div><div class="line number398 index397 alt1">398</div><div class="line number399 index398 alt2">399</div><div class="line number400 index399 alt1">400</div><div class="line number401 index400 alt2">401</div><div class="line number402 index401 alt1">402</div><div class="line number403 index402 alt2">403</div><div class="line number404 index403 alt1">404</div><div class="line number405 index404 alt2">405</div><div class="line number406 index405 alt1">406</div><div class="line number407 index406 alt2">407</div><div class="line number408 index407 alt1">408</div><div class="line number409 index408 alt2">409</div><div class="line number410 index409 alt1">410</div><div class="line number411 index410 alt2">411</div><div class="line number412 index411 alt1">412</div><div class="line number413 index412 alt2">413</div><div class="line number414 index413 alt1">414</div><div class="line number415 index414 alt2">415</div><div class="line number416 index415 alt1">416</div><div class="line number417 index416 alt2">417</div><div class="line number418 index417 alt1">418</div><div class="line number419 index418 alt2">419</div><div class="line number420 index419 alt1">420</div><div class="line number421 index420 alt2">421</div><div class="line number422 index421 alt1">422</div><div class="line number423 index422 alt2">423</div><div class="line number424 index423 alt1">424</div><div class="line number425 index424 alt2">425</div><div class="line number426 index425 alt1">426</div><div class="line number427 index426 alt2">427</div><div class="line number428 index427 alt1">428</div><div class="line number429 index428 alt2">429</div><div class="line number430 index429 alt1">430</div><div class="line number431 index430 alt2">431</div><div class="line number432 index431 alt1">432</div><div class="line number433 index432 alt2">433</div><div class="line number434 index433 alt1">434</div><div class="line number435 index434 alt2">435</div><div class="line number436 index435 alt1">436</div><div class="line number437 index436 alt2">437</div><div class="line number438 index437 alt1">438</div><div class="line number439 index438 alt2">439</div><div class="line number440 index439 alt1">440</div><div class="line number441 index440 alt2">441</div><div class="line number442 index441 alt1">442</div><div class="line number443 index442 alt2">443</div><div class="line number444 index443 alt1">444</div><div class="line number445 index444 alt2">445</div><div class="line number446 index445 alt1">446</div><div class="line number447 index446 alt2">447</div><div class="line number448 index447 alt1">448</div><div class="line number449 index448 alt2">449</div><div class="line number450 index449 alt1">450</div><div class="line number451 index450 alt2">451</div><div class="line number452 index451 alt1">452</div><div class="line number453 index452 alt2">453</div><div class="line number454 index453 alt1">454</div><div class="line number455 index454 alt2">455</div><div class="line number456 index455 alt1">456</div><div class="line number457 index456 alt2">457</div><div class="line number458 index457 alt1">458</div><div class="line number459 index458 alt2">459</div><div class="line number460 index459 alt1">460</div><div class="line number461 index460 alt2">461</div><div class="line number462 index461 alt1">462</div><div class="line number463 index462 alt2">463</div><div class="line number464 index463 alt1">464</div><div class="line number465 index464 alt2">465</div><div class="line number466 index465 alt1">466</div><div class="line number467 index466 alt2">467</div><div class="line number468 index467 alt1">468</div><div class="line number469 index468 alt2">469</div><div class="line number470 index469 alt1">470</div><div class="line number471 index470 alt2">471</div><div class="line number472 index471 alt1">472</div><div class="line number473 index472 alt2">473</div><div class="line number474 index473 alt1">474</div><div class="line number475 index474 alt2">475</div><div class="line number476 index475 alt1">476</div><div class="line number477 index476 alt2">477</div><div class="line number478 index477 alt1">478</div><div class="line number479 index478 alt2">479</div><div class="line number480 index479 alt1">480</div><div class="line number481 index480 alt2">481</div><div class="line number482 index481 alt1">482</div><div class="line number483 index482 alt2">483</div><div class="line number484 index483 alt1">484</div><div class="line number485 index484 alt2">485</div><div class="line number486 index485 alt1">486</div><div class="line number487 index486 alt2">487</div><div class="line number488 index487 alt1">488</div><div class="line number489 index488 alt2">489</div><div class="line number490 index489 alt1">490</div><div class="line number491 index490 alt2">491</div><div class="line number492 index491 alt1">492</div><div class="line number493 index492 alt2">493</div><div class="line number494 index493 alt1">494</div><div class="line number495 index494 alt2">495</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#ifndef __SENSOR_CONFIG_H__</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#define __SENSOR_CONFIG_H__</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="cpp comments">// 画像サイズ</code></div><div class="line number6 index5 alt1"><code class="cpp preprocessor">#define VGA_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 640 )</code></div><div class="line number7 index6 alt2"><code class="cpp preprocessor">#define VGA_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 480 )</code></div><div class="line number8 index7 alt1"><code class="cpp preprocessor">#define QVGA_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 320 )</code></div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#define QVGA_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 240 )</code></div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#define CIF_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 352 )</code></div><div class="line number11 index10 alt2"><code class="cpp preprocessor">#define CIF_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 288 )</code></div><div class="line number12 index11 alt1"><code class="cpp preprocessor">#define QCIF_WIDTH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 176 )</code></div><div class="line number13 index12 alt2"><code class="cpp preprocessor">#define QCIF_HEIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 144 )</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="cpp comments">// OV7670デバイスID</code></div><div class="line number17 index16 alt2"><code class="cpp preprocessor">#define OV7670_I2C_ADDR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x42 )</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="cpp comments">// OV7670レジスタ</code></div><div class="line number21 index20 alt2"><code class="cpp preprocessor">#define REG_GAIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Gain lower 8 bits (rest in vref)</code></div><div class="line number22 index21 alt1"><code class="cpp preprocessor">#define REG_BLUE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // blue gain</code></div><div class="line number23 index22 alt2"><code class="cpp preprocessor">#define REG_RED&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // red gain</code></div><div class="line number24 index23 alt1"><code class="cpp preprocessor">#define REG_VREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x03 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Pieces of GAIN, VSTART, VSTOP</code></div><div class="line number25 index24 alt2"><code class="cpp preprocessor">#define REG_COM1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 1</code></div><div class="line number26 index25 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM1_CCIR656&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; CCIR656 enable</code></div><div class="line number27 index26 alt2"><code class="cpp preprocessor">#define REG_BAVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x05 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // U/B Average level</code></div><div class="line number28 index27 alt1"><code class="cpp preprocessor">#define REG_GbAVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x06 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Y/Gb Average level</code></div><div class="line number29 index28 alt2"><code class="cpp preprocessor">#define REG_AECHH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x07 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AEC MS 5 bits</code></div><div class="line number30 index29 alt1"><code class="cpp preprocessor">#define REG_RAVE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // V/R Average level</code></div><div class="line number31 index30 alt2"><code class="cpp preprocessor">#define REG_COM2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x09 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 2</code></div><div class="line number32 index31 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM2_SSLEEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Soft sleep mode</code></div><div class="line number33 index32 alt2"><code class="cpp preprocessor">#define REG_PID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0a )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Product ID MSB</code></div><div class="line number34 index33 alt1"><code class="cpp preprocessor">#define REG_VER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0b )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Product ID LSB</code></div><div class="line number35 index34 alt2"><code class="cpp preprocessor">#define REG_COM3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 3</code></div><div class="line number36 index35 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM3_SWAP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Byte swap</code></div><div class="line number37 index36 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM3_SCALEEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable scaling</code></div><div class="line number38 index37 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM3_DCWEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable downsamp/crop/window</code></div><div class="line number39 index38 alt2"><code class="cpp preprocessor">#define REG_COM4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0d )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 4</code></div><div class="line number40 index39 alt1"><code class="cpp preprocessor">#define REG_COM5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0e )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // All "reserved"</code></div><div class="line number41 index40 alt2"><code class="cpp preprocessor">#define REG_COM6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x0f )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 6 </code></div><div class="line number42 index41 alt1"><code class="cpp preprocessor">#define REG_AECH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // More bits of AEC value</code></div><div class="line number43 index42 alt2"><code class="cpp preprocessor">#define REG_CLKRC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x11 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Clocl control</code></div><div class="line number44 index43 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; CLK_EXT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Use external clock directly</code></div><div class="line number45 index44 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; CLK_SCALE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3f )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Mask for internal clock scale</code></div><div class="line number46 index45 alt1"><code class="cpp preprocessor">#define REG_COM7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x12 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 7</code></div><div class="line number47 index46 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_RESET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Register reset</code></div><div class="line number48 index47 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_MASK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x38 )&nbsp;&nbsp;&nbsp; //</code></div><div class="line number49 index48 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_VGA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; VGA format</code></div><div class="line number50 index49 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_CIF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; CIF format</code></div><div class="line number51 index50 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_QVGA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; QVGA format</code></div><div class="line number52 index51 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_FMT_QCIF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; QCIF format</code></div><div class="line number53 index52 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_RGB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; bits 0 and 2 - RGB format</code></div><div class="line number54 index53 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_YUV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; YUV</code></div><div class="line number55 index54 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_BAYER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Bayer format</code></div><div class="line number56 index55 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_PBAYER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x05 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; "Processed bayer"</code></div><div class="line number57 index56 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM7_COLOR_BAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable Color Bar</code></div><div class="line number58 index57 alt1"><code class="cpp preprocessor">#define REG_COM8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x13 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 8</code></div><div class="line number59 index58 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_FASTAEC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Enable fast AGC/AEC</code></div><div class="line number60 index59 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AECSTEP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Unlimited AEC step size</code></div><div class="line number61 index60 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_BFILT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Band filter enable</code></div><div class="line number62 index61 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AGC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Auto gain enable</code></div><div class="line number63 index62 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AWB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; White balance enable</code></div><div class="line number64 index63 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM8_AEC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Auto exposure enable</code></div><div class="line number65 index64 alt2"><code class="cpp preprocessor">#define REG_COM9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x14 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 9&nbsp; - gain ceiling</code></div><div class="line number66 index65 alt1"><code class="cpp preprocessor">#define REG_COM10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x15 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 10</code></div><div class="line number67 index66 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_HSYNC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; HSYNC instead of HREF</code></div><div class="line number68 index67 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_PCLK_HB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Suppress PCLK on horiz blank</code></div><div class="line number69 index68 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_HREF_REV&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Reverse HREF</code></div><div class="line number70 index69 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_VS_LEAD&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; VSYNC on clock leading edge</code></div><div class="line number71 index70 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_VS_NEG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; VSYNC negative</code></div><div class="line number72 index71 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM10_HS_NEG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; HSYNC negative</code></div><div class="line number73 index72 alt2"><code class="cpp preprocessor">#define REG_HSTART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x17 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Horiz start high bits</code></div><div class="line number74 index73 alt1"><code class="cpp preprocessor">#define REG_HSTOP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x18 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Horiz stop high bits</code></div><div class="line number75 index74 alt2"><code class="cpp preprocessor">#define REG_VSTART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x19 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Vert start high bits</code></div><div class="line number76 index75 alt1"><code class="cpp preprocessor">#define REG_VSTOP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1a )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Vert stop high bits</code></div><div class="line number77 index76 alt2"><code class="cpp preprocessor">#define REG_PSHFT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1b )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Pixel delay after HREF</code></div><div class="line number78 index77 alt1"><code class="cpp preprocessor">#define REG_MIDH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Manuf. ID high</code></div><div class="line number79 index78 alt2"><code class="cpp preprocessor">#define REG_MIDL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1d )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Manuf. ID low</code></div><div class="line number80 index79 alt1"><code class="cpp preprocessor">#define REG_MVFP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x1e )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Mirror / vflip</code></div><div class="line number81 index80 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; MVFP_MIRROR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Mirror image</code></div><div class="line number82 index81 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; MVFP_FLIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Vertical flip</code></div><div class="line number83 index82 alt2">&nbsp;</div><div class="line number84 index83 alt1"><code class="cpp preprocessor">#define REG_AEW&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x24 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AGC upper limit</code></div><div class="line number85 index84 alt2"><code class="cpp preprocessor">#define REG_AEB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x25 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AGC lower limit</code></div><div class="line number86 index85 alt1"><code class="cpp preprocessor">#define REG_VPT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x26 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // AGC/AEC fast mode op region</code></div><div class="line number87 index86 alt2"><code class="cpp preprocessor">#define REG_HSYST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x30 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // HSYNC rising edge delay</code></div><div class="line number88 index87 alt1"><code class="cpp preprocessor">#define REG_HSYEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x31 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // HSYNC falling edge delay</code></div><div class="line number89 index88 alt2"><code class="cpp preprocessor">#define REG_HREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x32 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // HREF pieces</code></div><div class="line number90 index89 alt1"><code class="cpp preprocessor">#define REG_TSLB&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3a )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // lots of stuff</code></div><div class="line number91 index90 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; TSLB_YLAST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x04 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; UYVY or VYUY - see com13</code></div><div class="line number92 index91 alt1"><code class="cpp preprocessor">#define REG_COM11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3b )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 11</code></div><div class="line number93 index92 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_NIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; NIght mode enable</code></div><div class="line number94 index93 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_NMFR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x60 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Two bit NM frame rate</code></div><div class="line number95 index94 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_HZAUTO&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Auto detect 50/60 Hz</code></div><div class="line number96 index95 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_50HZ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Manual 50Hz select</code></div><div class="line number97 index96 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM11_EXP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //</code></div><div class="line number98 index97 alt1"><code class="cpp preprocessor">#define REG_COM12&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 12</code></div><div class="line number99 index98 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM12_HREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; HREF always</code></div><div class="line number100 index99 alt1"><code class="cpp preprocessor">#define REG_COM13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3d )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 13</code></div><div class="line number101 index100 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM13_GAMMA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Gamma enable</code></div><div class="line number102 index101 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM13_UVSAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; UV saturation auto adjustment</code></div><div class="line number103 index102 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM13_UVSWAP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; V before U - w/TSLB</code></div><div class="line number104 index103 alt1"><code class="cpp preprocessor">#define REG_COM14&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3e )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 14</code></div><div class="line number105 index104 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM14_DCWEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; DCW/PCLK-scale enable</code></div><div class="line number106 index105 alt1"><code class="cpp preprocessor">#define REG_EDGE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x3f )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Edge enhancement factor</code></div><div class="line number107 index106 alt2"><code class="cpp preprocessor">#define REG_COM15&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 15</code></div><div class="line number108 index107 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_R10F0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x00 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Data range 10 to F0</code></div><div class="line number109 index108 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_R01FE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 01 to FE</code></div><div class="line number110 index109 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_R00FF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xc0 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 00 to FF</code></div><div class="line number111 index110 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_RGB565&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; RGB565 output</code></div><div class="line number112 index111 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM15_RGB555&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x30 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; RGB555 output</code></div><div class="line number113 index112 alt2"><code class="cpp preprocessor">#define REG_COM16&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x41 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 16</code></div><div class="line number114 index113 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM16_AWBGAIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; AWB gain enable</code></div><div class="line number115 index114 alt2"><code class="cpp preprocessor">#define REG_COM17&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x42 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Control 17</code></div><div class="line number116 index115 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM17_AECWIN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xc0 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; AEC window - must match COM4</code></div><div class="line number117 index116 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; COM17_CBAR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; DSP Color bar</code></div><div class="line number118 index117 alt1">&nbsp;</div><div class="line number119 index118 alt2">&nbsp;</div><div class="line number120 index119 alt1"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number121 index120 alt2"><code class="cpp comments">// This matrix defines how the colors are generated, must be</code></div><div class="line number122 index121 alt1"><code class="cpp comments">// tweaked to adjust hue and saturation.</code></div><div class="line number123 index122 alt2"><code class="cpp comments">//</code></div><div class="line number124 index123 alt1"><code class="cpp comments">// Order: v-red, v-green, v-blue, u-red, u-green, u-blue</code></div><div class="line number125 index124 alt2"><code class="cpp comments">//</code></div><div class="line number126 index125 alt1"><code class="cpp comments">// They are nine-bit signed quantities, with the sign bit</code></div><div class="line number127 index126 alt2"><code class="cpp comments">// stored in 0x58.&nbsp; Sign for v-red is bit 0, and up from there.</code></div><div class="line number128 index127 alt1"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number129 index128 alt2"><code class="cpp preprocessor">#define REG_CMATRIX_BASE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x4f )</code></div><div class="line number130 index129 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; CMATRIX_LEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 6 )</code></div><div class="line number131 index130 alt2"><code class="cpp preprocessor">#define REG_CMATRIX_SIGN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x58 )</code></div><div class="line number132 index131 alt1">&nbsp;</div><div class="line number133 index132 alt2"><code class="cpp preprocessor">#define REG_BRIGHT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x55 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Brightness</code></div><div class="line number134 index133 alt1"><code class="cpp preprocessor">#define REG_CONTRAS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x56 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Contrast control</code></div><div class="line number135 index134 alt2">&nbsp;</div><div class="line number136 index135 alt1"><code class="cpp preprocessor">#define REG_GFIX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x69 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Fix gain control</code></div><div class="line number137 index136 alt2">&nbsp;</div><div class="line number138 index137 alt1"><code class="cpp preprocessor">#define REG_REG76&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x76 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // OV's name</code></div><div class="line number139 index138 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; R76_BLKPCOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x80 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Black pixel correction enable</code></div><div class="line number140 index139 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; R76_WHTPCOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; White pixel correction enable</code></div><div class="line number141 index140 alt2">&nbsp;</div><div class="line number142 index141 alt1"><code class="cpp preprocessor">#define REG_RGB444&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x8c )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // RGB 444 control</code></div><div class="line number143 index142 alt2"><code class="cpp preprocessor">#define&nbsp;&nbsp; R444_ENABLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x02 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Turn on RGB444, overrides 5x5</code></div><div class="line number144 index143 alt1"><code class="cpp preprocessor">#define&nbsp;&nbsp; R444_RGBX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x01 )&nbsp;&nbsp;&nbsp; //&nbsp;&nbsp; Empty nibble at end</code></div><div class="line number145 index144 alt2">&nbsp;</div><div class="line number146 index145 alt1"><code class="cpp preprocessor">#define REG_HAECC1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x9f )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 1</code></div><div class="line number147 index146 alt2"><code class="cpp preprocessor">#define REG_HAECC2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa0 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 2</code></div><div class="line number148 index147 alt1">&nbsp;</div><div class="line number149 index148 alt2"><code class="cpp preprocessor">#define REG_BD50MAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa5 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 50hz banding step limit */</code></div><div class="line number150 index149 alt1"><code class="cpp preprocessor">#define REG_HAECC3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa6 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 3 */</code></div><div class="line number151 index150 alt2"><code class="cpp preprocessor">#define REG_HAECC4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa7 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 4 */</code></div><div class="line number152 index151 alt1"><code class="cpp preprocessor">#define REG_HAECC5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa8 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 5 */</code></div><div class="line number153 index152 alt2"><code class="cpp preprocessor">#define REG_HAECC6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xa9 )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 6 */</code></div><div class="line number154 index153 alt1"><code class="cpp preprocessor">#define REG_HAECC7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xaa )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Hist AEC/AGC control 7 */</code></div><div class="line number155 index154 alt2"><code class="cpp preprocessor">#define REG_BD60MAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0xab )&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // 60hz banding step limit */</code></div><div class="line number156 index155 alt1">&nbsp;</div><div class="line number157 index156 alt2">&nbsp;</div><div class="line number158 index157 alt1"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number159 index158 alt2"><code class="cpp comments">// The default register settings, as obtained from OmniVision.&nbsp; There</code></div><div class="line number160 index159 alt1"><code class="cpp comments">// is really no making sense of most of these - lots of "reserved" values</code></div><div class="line number161 index160 alt2"><code class="cpp comments">// and such.</code></div><div class="line number162 index161 alt1"><code class="cpp comments">// </code></div><div class="line number163 index162 alt2"><code class="cpp comments">// These settings give VGA YUYV.</code></div><div class="line number164 index163 alt1"><code class="cpp comments">//--------------------------------------------------------------------------------------</code></div><div class="line number165 index164 alt2"><code class="cpp keyword bold">struct</code> <code class="cpp plain">regval_list </code></div><div class="line number166 index165 alt1"><code class="cpp plain">{</code></div><div class="line number167 index166 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">reg_num;</code></div><div class="line number168 index167 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">value;</code></div><div class="line number169 index168 alt2"><code class="cpp plain">};</code></div><div class="line number170 index169 alt1">&nbsp;</div><div class="line number171 index170 alt2">&nbsp;</div><div class="line number172 index171 alt1"><code class="cpp keyword bold">static</code> <code class="cpp keyword bold">struct</code> <code class="cpp plain">regval_list ov7670_default_regs[] =</code></div><div class="line number173 index172 alt2"><code class="cpp plain">{</code></div><div class="line number174 index173 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM7, COM7_RESET },</code></div><div class="line number175 index174 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number176 index175 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number177 index176 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Clock scale: 3 = 15fps</code></div><div class="line number178 index177 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 = 20fps</code></div><div class="line number179 index178 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 = 30fps</code></div><div class="line number180 index179 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number181 index180 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_CLKRC, 0x01 },&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// OV: clock scale (15 fps)</code></div><div class="line number182 index181 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_TSLB , 0x04 },&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// OV</code></div><div class="line number183 index182 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM7 , COM7_FMT_QVGA },&nbsp;&nbsp; </code><code class="cpp comments">// VGA</code></div><div class="line number184 index183 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number185 index184 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number186 index185 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Set the hardware window.&nbsp; These values from OV don't entirely</code></div><div class="line number187 index186 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// make sense - hstop is less than hstart.&nbsp; But they work...</code></div><div class="line number188 index187 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number189 index188 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_HSTART, 0x13 },&nbsp;&nbsp; { REG_HSTOP , 0x01 },</code></div><div class="line number190 index189 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_HREF&nbsp; , 0xb6 },&nbsp;&nbsp; { REG_VSTART, 0x02 },</code></div><div class="line number191 index190 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_VSTOP , 0x7a },&nbsp;&nbsp; { REG_VREF&nbsp; , 0x0a },</code></div><div class="line number192 index191 alt1">&nbsp;</div><div class="line number193 index192 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM3&nbsp; , 0x00 },&nbsp;&nbsp; { REG_COM14 , 0x00 },</code></div><div class="line number194 index193 alt1">&nbsp;</div><div class="line number195 index194 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number196 index195 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Mystery scaling numbers</code></div><div class="line number197 index196 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number198 index197 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x70, 0x3a },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x71, 0x35 },</code></div><div class="line number199 index198 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x72, 0x11 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x73, 0xf0 },</code></div><div class="line number200 index199 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xa2, 0x02 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_COM10, 0x0 },</code></div><div class="line number201 index200 alt2">&nbsp;</div><div class="line number202 index201 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number203 index202 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Gamma curve values</code></div><div class="line number204 index203 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number205 index204 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x7a, 0x20 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x7b, 0x10 },</code></div><div class="line number206 index205 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x7c, 0x1e },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x7d, 0x35 },</code></div><div class="line number207 index206 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x7e, 0x5a },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x7f, 0x69 },</code></div><div class="line number208 index207 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x80, 0x76 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x81, 0x80 },</code></div><div class="line number209 index208 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x82, 0x88 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x83, 0x8f },</code></div><div class="line number210 index209 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x84, 0x96 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x85, 0xa3 },</code></div><div class="line number211 index210 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x86, 0xaf },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x87, 0xc4 },</code></div><div class="line number212 index211 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x88, 0xd7 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x89, 0xe8 },</code></div><div class="line number213 index212 alt2">&nbsp;</div><div class="line number214 index213 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number215 index214 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// AGC and AEC parameters.&nbsp; Note we start by disabling those features,</code></div><div class="line number216 index215 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// then turn them only after tweaking the values.</code></div><div class="line number217 index216 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number218 index217 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM8, COM8_FASTAEC | COM8_AECSTEP | COM8_BFILT },</code></div><div class="line number219 index218 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_GAIN, 0 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_AECH, 0 },</code></div><div class="line number220 index219 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM4, 0x40 }, </code><code class="cpp comments">// magic reserved bit</code></div><div class="line number221 index220 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM9, 0x18 }, </code><code class="cpp comments">// 4x gain + magic rsvd bit</code></div><div class="line number222 index221 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_BD50MAX, 0x05 },&nbsp; { REG_BD60MAX, 0x07 },</code></div><div class="line number223 index222 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_AEW, 0x95 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_AEB, 0x33 },</code></div><div class="line number224 index223 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_VPT, 0xe3 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_HAECC1, 0x78 },</code></div><div class="line number225 index224 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_HAECC2, 0x68 },&nbsp;&nbsp; { 0xa1, 0x03 }, </code><code class="cpp comments">/* magic */</code></div><div class="line number226 index225 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_HAECC3, 0xd8 },&nbsp;&nbsp; { REG_HAECC4, 0xd8 },</code></div><div class="line number227 index226 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_HAECC5, 0xf0 },&nbsp;&nbsp; { REG_HAECC6, 0x90 },</code></div><div class="line number228 index227 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_HAECC7, 0x94 },</code></div><div class="line number229 index228 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM8, COM8_FASTAEC|COM8_AECSTEP|COM8_BFILT|COM8_AGC|COM8_AEC },</code></div><div class="line number230 index229 alt1">&nbsp;</div><div class="line number231 index230 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number232 index231 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Almost all of these are magic "reserved" values.</code></div><div class="line number233 index232 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number234 index233 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM5, 0x61 },&nbsp;&nbsp;&nbsp;&nbsp; { REG_COM6, 0x4b },</code></div><div class="line number235 index234 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x16, 0x02 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_MVFP, 0x07 },</code></div><div class="line number236 index235 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x21, 0x02 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x22, 0x91 },</code></div><div class="line number237 index236 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x29, 0x07 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x33, 0x0b },</code></div><div class="line number238 index237 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x35, 0x0b },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x37, 0x1d },</code></div><div class="line number239 index238 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x38, 0x71 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x39, 0x2a },</code></div><div class="line number240 index239 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM12, 0x78 },&nbsp;&nbsp;&nbsp; { 0x4d, 0x40 },</code></div><div class="line number241 index240 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x4e, 0x20 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_GFIX, 0 },</code></div><div class="line number242 index241 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x6b, 0x4a },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x74, 0x10 },</code></div><div class="line number243 index242 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x8d, 0x4f },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x8e, 0 },</code></div><div class="line number244 index243 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x8f, 0 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x90, 0 },</code></div><div class="line number245 index244 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x91, 0 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x96, 0 },</code></div><div class="line number246 index245 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x9a, 0 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xb0, 0x84 },</code></div><div class="line number247 index246 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xb1, 0x0c },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xb2, 0x0e },</code></div><div class="line number248 index247 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xb3, 0x82 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xb8, 0x0a },</code></div><div class="line number249 index248 alt2">&nbsp;</div><div class="line number250 index249 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number251 index250 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// More reserved magic, some of which tweaks white balance</code></div><div class="line number252 index251 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number253 index252 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x43, 0x0a },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x44, 0xf0 },</code></div><div class="line number254 index253 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x45, 0x34 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x46, 0x58 },</code></div><div class="line number255 index254 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x47, 0x28 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x48, 0x3a },</code></div><div class="line number256 index255 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x59, 0x88 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x5a, 0x88 },</code></div><div class="line number257 index256 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x5b, 0x44 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x5c, 0x67 },</code></div><div class="line number258 index257 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x5d, 0x49 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x5e, 0x0e },</code></div><div class="line number259 index258 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x6c, 0x0a },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x6d, 0x55 },</code></div><div class="line number260 index259 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x6e, 0x11 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x6f, 0x9f },&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// "9e for advance AWB"</code></div><div class="line number261 index260 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x6a, 0x40 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_BLUE, 0x40 },</code></div><div class="line number262 index261 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_RED, 0x60 },</code></div><div class="line number263 index262 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM8, COM8_FASTAEC|COM8_AECSTEP|COM8_BFILT|COM8_AGC|COM8_AEC|COM8_AWB },</code></div><div class="line number264 index263 alt1">&nbsp;</div><div class="line number265 index264 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number266 index265 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Matrix coefficients</code></div><div class="line number267 index266 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number268 index267 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x4f, 0x80 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x50, 0x80 },</code></div><div class="line number269 index268 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x51, 0 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x52, 0x22 },</code></div><div class="line number270 index269 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x53, 0x5e },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x54, 0x80 },</code></div><div class="line number271 index270 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x58, 0x9e },</code></div><div class="line number272 index271 alt1">&nbsp;</div><div class="line number273 index272 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM16, COM16_AWBGAIN },&nbsp;&nbsp; { REG_EDGE, 0 },</code></div><div class="line number274 index273 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x75, 0x05 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x76, 0xe1 },</code></div><div class="line number275 index274 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x4c, 0 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x77, 0x01 },</code></div><div class="line number276 index275 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM13, 0xc3 },&nbsp;&nbsp;&nbsp; { 0x4b, 0x09 },</code></div><div class="line number277 index276 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xc9, 0x60 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_COM16, 0x38 },</code></div><div class="line number278 index277 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x56, 0x40 },</code></div><div class="line number279 index278 alt2">&nbsp;</div><div class="line number280 index279 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x34, 0x11 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { REG_COM11, COM11_EXP|COM11_HZAUTO },</code></div><div class="line number281 index280 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xa4, 0x88 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x96, 0 },</code></div><div class="line number282 index281 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x97, 0x30 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x98, 0x20 },</code></div><div class="line number283 index282 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x99, 0x30 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x9a, 0x84 },</code></div><div class="line number284 index283 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x9b, 0x29 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x9c, 0x03 },</code></div><div class="line number285 index284 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x9d, 0x4c },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0x9e, 0x3f },</code></div><div class="line number286 index285 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x78, 0x04 },</code></div><div class="line number287 index286 alt2">&nbsp;</div><div class="line number288 index287 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number289 index288 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// Extra-weird stuff.&nbsp; Some sort of multiplexor register</code></div><div class="line number290 index289 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//--------------------------------------------------------------------------</code></div><div class="line number291 index290 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x01 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0xf0 },</code></div><div class="line number292 index291 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x0f },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x00 },</code></div><div class="line number293 index292 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x10 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x7e },</code></div><div class="line number294 index293 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x0a },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x80 },</code></div><div class="line number295 index294 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x0b },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x01 },</code></div><div class="line number296 index295 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x0c },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x0f },</code></div><div class="line number297 index296 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x0d },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x20 },</code></div><div class="line number298 index297 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x09 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x80 },</code></div><div class="line number299 index298 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x02 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0xc0 },</code></div><div class="line number300 index299 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x03 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x40 },</code></div><div class="line number301 index300 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x05 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; { 0xc8, 0x30 },</code></div><div class="line number302 index301 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x79, 0x26 },</code></div><div class="line number303 index302 alt2">&nbsp;</div><div class="line number304 index303 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM10, 0x02 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// VSCNCを反転</code></div><div class="line number305 index304 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xff, 0xff },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// END MARKER</code></div><div class="line number306 index305 alt1"><code class="cpp plain">};</code></div><div class="line number307 index306 alt2">&nbsp;</div><div class="line number308 index307 alt1">&nbsp;</div><div class="line number309 index308 alt2"><code class="cpp keyword bold">static</code> <code class="cpp keyword bold">struct</code> <code class="cpp plain">regval_list ov7670_fmt_yuv422[] = </code></div><div class="line number310 index309 alt1"><code class="cpp plain">{</code></div><div class="line number311 index310 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM7, COM7_FMT_QVGA },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* Selects YUV mode */</code></div><div class="line number312 index311 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_RGB444, 0 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* No RGB444 please */</code></div><div class="line number313 index312 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM1, 0 },</code></div><div class="line number314 index313 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM15, COM15_R00FF },</code></div><div class="line number315 index314 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM9, 0x18 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* 4x gain ceiling; 0x8 is reserved bit */</code></div><div class="line number316 index315 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x4f, 0x80 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 1" */</code></div><div class="line number317 index316 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x50, 0x80 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 2" */</code></div><div class="line number318 index317 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x51, 0&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* vb */</code></div><div class="line number319 index318 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x52, 0x22 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 4" */</code></div><div class="line number320 index319 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x53, 0x5e },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 5" */</code></div><div class="line number321 index320 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x54, 0x80 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 6" */</code></div><div class="line number322 index321 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM13, COM13_GAMMA|COM13_UVSAT },</code></div><div class="line number323 index322 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM10, 0x02 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// VSCNCを反転</code></div><div class="line number324 index323 alt1"><code class="cpp comments">//&nbsp; { REG_COM17, COM17_CBAR},&nbsp;&nbsp; //&nbsp;&nbsp; DSP Color bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number325 index324 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xff, 0xff },</code></div><div class="line number326 index325 alt1"><code class="cpp plain">};</code></div><div class="line number327 index326 alt2">&nbsp;</div><div class="line number328 index327 alt1">&nbsp;</div><div class="line number329 index328 alt2"><code class="cpp keyword bold">static</code> <code class="cpp keyword bold">struct</code> <code class="cpp plain">regval_list ov7670_fmt_rgb444[] =</code></div><div class="line number330 index329 alt1"><code class="cpp plain">{</code></div><div class="line number331 index330 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM7, COM7_FMT_QVGA | COM7_RGB },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* Selects RGB mode */</code></div><div class="line number332 index331 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_RGB444, R444_ENABLE },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* Enable xxxxrrrr ggggbbbb */</code></div><div class="line number333 index332 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM1, 0x40 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* Magic reserved bit */</code></div><div class="line number334 index333 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM15, COM15_R01FE|COM15_RGB565 },&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* Data range needed? */</code></div><div class="line number335 index334 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM9, 0x38 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* 16x gain ceiling; 0x8 is reserved bit */</code></div><div class="line number336 index335 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x4f, 0xb3 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 1" */</code></div><div class="line number337 index336 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x50, 0xb3 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 2" */</code></div><div class="line number338 index337 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x51, 0&nbsp;&nbsp;&nbsp; },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* vb */</code></div><div class="line number339 index338 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x52, 0x3d },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 4" */</code></div><div class="line number340 index339 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x53, 0xa7 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 5" */</code></div><div class="line number341 index340 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0x54, 0xe4 },&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">/* "matrix coefficient 6" */</code></div><div class="line number342 index341 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM13, COM13_GAMMA|COM13_UVSAT|0x2 }, </code><code class="cpp comments">/* Magic rsvd bit */</code></div><div class="line number343 index342 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xff, 0xff },</code></div><div class="line number344 index343 alt1"><code class="cpp plain">};</code></div><div class="line number345 index344 alt2">&nbsp;</div><div class="line number346 index345 alt1">&nbsp;</div><div class="line number347 index346 alt2">&nbsp;</div><div class="line number348 index347 alt1"><code class="cpp keyword bold">static</code> <code class="cpp keyword bold">struct</code> <code class="cpp plain">regval_list OV7670_reg[] =</code></div><div class="line number349 index348 alt2"><code class="cpp plain">{</code></div><div class="line number350 index349 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM7, COM7_RESET }, </code></div><div class="line number351 index350 alt2">&nbsp;</div><div class="line number352 index351 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">/*OV7670 QVGA RGB565 */</code></div><div class="line number353 index352 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x3a, 0x04},</code><code class="cpp comments">//</code></div><div class="line number354 index353 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x40, 0x10},</code></div><div class="line number355 index354 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x12, 0x14},</code></div><div class="line number356 index355 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x32, 0x80},</code></div><div class="line number357 index356 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x17, 0x16},</code></div><div class="line number358 index357 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number359 index358 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x18, 0x04},</code><code class="cpp comments">//5</code></div><div class="line number360 index359 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x19, 0x02},</code></div><div class="line number361 index360 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x1a, 0x7b},</code><code class="cpp comments">//0x7a,</code></div><div class="line number362 index361 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x03, 0x06},</code><code class="cpp comments">//0x0a,</code></div><div class="line number363 index362 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0c, 0x0c},</code></div><div class="line number364 index363 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x15, 0x02},</code></div><div class="line number365 index364 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x3e, 0x00},</code><code class="cpp comments">//10</code></div><div class="line number366 index365 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x70, 0x00},</code></div><div class="line number367 index366 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x71, 0x01},</code></div><div class="line number368 index367 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x72, 0x11},</code></div><div class="line number369 index368 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x73, 0x09},</code><code class="cpp comments">//</code></div><div class="line number370 index369 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number371 index370 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa2, 0x02},</code><code class="cpp comments">//15</code></div><div class="line number372 index371 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x11, 0x00},</code></div><div class="line number373 index372 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7a, 0x20},</code></div><div class="line number374 index373 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7b, 0x1c},</code></div><div class="line number375 index374 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7c, 0x28},</code></div><div class="line number376 index375 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number377 index376 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7d, 0x3c},</code><code class="cpp comments">//20</code></div><div class="line number378 index377 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7e, 0x55},</code></div><div class="line number379 index378 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x7f, 0x68},</code></div><div class="line number380 index379 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x80, 0x76},</code></div><div class="line number381 index380 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x81, 0x80},</code></div><div class="line number382 index381 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number383 index382 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x82, 0x88},</code></div><div class="line number384 index383 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x83, 0x8f},</code></div><div class="line number385 index384 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x84, 0x96},</code></div><div class="line number386 index385 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x85, 0xa3},</code></div><div class="line number387 index386 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x86, 0xaf},</code></div><div class="line number388 index387 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number389 index388 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x87, 0xc4},</code><code class="cpp comments">//30</code></div><div class="line number390 index389 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x88, 0xd7},</code></div><div class="line number391 index390 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x89, 0xe8},</code></div><div class="line number392 index391 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x13, 0xe0},</code></div><div class="line number393 index392 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x00, 0x00},</code><code class="cpp comments">//AGC</code></div><div class="line number394 index393 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number395 index394 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x10, 0x00},</code></div><div class="line number396 index395 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0d, 0x00},</code></div><div class="line number397 index396 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x14, 0x20},</code><code class="cpp comments">//0x38, limit the max gain</code></div><div class="line number398 index397 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa5, 0x05},</code></div><div class="line number399 index398 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xab, 0x07},</code></div><div class="line number400 index399 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number401 index400 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x24, 0x75},</code><code class="cpp comments">//40</code></div><div class="line number402 index401 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x25, 0x63},</code></div><div class="line number403 index402 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x26, 0xA5},</code></div><div class="line number404 index403 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x9f, 0x78},</code></div><div class="line number405 index404 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa0, 0x68},</code></div><div class="line number406 index405 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number407 index406 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa1, 0x03},</code><code class="cpp comments">//0x0b,</code></div><div class="line number408 index407 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa6, 0xdf},</code><code class="cpp comments">//0xd8,</code></div><div class="line number409 index408 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa7, 0xdf},</code><code class="cpp comments">//0xd8,</code></div><div class="line number410 index409 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa8, 0xf0},</code></div><div class="line number411 index410 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xa9, 0x90},</code></div><div class="line number412 index411 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number413 index412 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xaa, 0x94},</code><code class="cpp comments">//50</code></div><div class="line number414 index413 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x13, 0xe5},</code></div><div class="line number415 index414 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0e, 0x61},</code></div><div class="line number416 index415 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x0f, 0x4b},</code></div><div class="line number417 index416 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x16, 0x02},</code></div><div class="line number418 index417 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number419 index418 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x1e, 0x27},</code><code class="cpp comments">//0x07,</code></div><div class="line number420 index419 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x21, 0x02},</code></div><div class="line number421 index420 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x22, 0x91},</code></div><div class="line number422 index421 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x29, 0x07},</code></div><div class="line number423 index422 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x33, 0x0b},</code></div><div class="line number424 index423 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number425 index424 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x35, 0x0b},</code><code class="cpp comments">//60</code></div><div class="line number426 index425 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x37, 0x1d},</code></div><div class="line number427 index426 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x38, 0x71},</code></div><div class="line number428 index427 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x39, 0x2a},</code></div><div class="line number429 index428 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x3c, 0x78},</code></div><div class="line number430 index429 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number431 index430 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x4d, 0x40},</code></div><div class="line number432 index431 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x4e, 0x20},</code></div><div class="line number433 index432 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x69, 0x5d},</code></div><div class="line number434 index433 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6b, 0x40},</code><code class="cpp comments">//PLL</code></div><div class="line number435 index434 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x74, 0x19},</code></div><div class="line number436 index435 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x8d, 0x4f},</code></div><div class="line number437 index436 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number438 index437 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x8e, 0x00},</code><code class="cpp comments">//70</code></div><div class="line number439 index438 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x8f, 0x00},</code></div><div class="line number440 index439 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x90, 0x00},</code></div><div class="line number441 index440 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x91, 0x00},</code></div><div class="line number442 index441 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x92, 0x00},</code><code class="cpp comments">//0x19,//0x66</code></div><div class="line number443 index442 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number444 index443 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x96, 0x00},</code></div><div class="line number445 index444 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x9a, 0x80},</code></div><div class="line number446 index445 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb0, 0x84},</code></div><div class="line number447 index446 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb1, 0x0c},</code></div><div class="line number448 index447 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb2, 0x0e},</code></div><div class="line number449 index448 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number450 index449 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb3, 0x82},</code><code class="cpp comments">//80</code></div><div class="line number451 index450 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0xb8, 0x0a},</code></div><div class="line number452 index451 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x43, 0x14},</code></div><div class="line number453 index452 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x44, 0xf0},</code></div><div class="line number454 index453 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x45, 0x34},</code></div><div class="line number455 index454 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number456 index455 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x46, 0x58},</code></div><div class="line number457 index456 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x47, 0x28},</code></div><div class="line number458 index457 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x48, 0x3a},</code></div><div class="line number459 index458 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x59, 0x88},</code></div><div class="line number460 index459 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5a, 0x88},</code></div><div class="line number461 index460 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number462 index461 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5b, 0x44},</code><code class="cpp comments">//90</code></div><div class="line number463 index462 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5c, 0x67},</code></div><div class="line number464 index463 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5d, 0x49},</code></div><div class="line number465 index464 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x5e, 0x0e},</code></div><div class="line number466 index465 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x64, 0x04},</code></div><div class="line number467 index466 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x65, 0x20},</code></div><div class="line number468 index467 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number469 index468 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x66, 0x05},</code></div><div class="line number470 index469 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x94, 0x04},</code></div><div class="line number471 index470 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x95, 0x08},</code></div><div class="line number472 index471 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6c, 0x0a},</code></div><div class="line number473 index472 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6d, 0x55},</code></div><div class="line number474 index473 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number475 index474 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number476 index475 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x4f, 0x80},</code></div><div class="line number477 index476 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x50, 0x80},</code></div><div class="line number478 index477 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x51, 0x00},</code></div><div class="line number479 index478 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x52, 0x22},</code></div><div class="line number480 index479 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x53, 0x5e},</code></div><div class="line number481 index480 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x54, 0x80},</code></div><div class="line number482 index481 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number483 index482 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//{0x54, 0x40},//110</code></div><div class="line number484 index483 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number485 index484 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number486 index485 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6e, 0x11},</code><code class="cpp comments">//100</code></div><div class="line number487 index486 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x6f, 0x9f},</code><code class="cpp comments">//0x9e for advance AWB</code></div><div class="line number488 index487 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x55, 0x00},</code><code class="cpp comments">//</code></div><div class="line number489 index488 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x56, 0x40},</code><code class="cpp comments">//</code></div><div class="line number490 index489 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{0x57, 0x80},</code><code class="cpp comments">//0x40,&nbsp; change according to Jim's request&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number491 index490 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ REG_COM17, COM17_CBAR },</code></div><div class="line number492 index491 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number493 index492 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{ 0xff, 0xff },</code></div><div class="line number494 index493 alt1"><code class="cpp plain">};</code></div><div class="line number495 index494 alt2"><code class="cpp preprocessor">#endif&nbsp; // #ifndef __SENSOR_CONFIG_H__</code></div></div></td></tr></tbody></table></div></div><br>
<br>
<br>
・AL422.c<br>
<div><div id="highlighter_987886" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include "avr/io.h"</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include "stdbool.h"</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include "util/delay.h"</code></div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#include "AL422_Lib.h"</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="cpp preprocessor">#define AL422_DO0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB0)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 0</code></div><div class="line number8 index7 alt1"><code class="cpp preprocessor">#define AL422_DO1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 1</code></div><div class="line number9 index8 alt2"><code class="cpp preprocessor">#define AL422_DO2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 2</code></div><div class="line number10 index9 alt1"><code class="cpp preprocessor">#define AL422_DO3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 3</code></div><div class="line number11 index10 alt2"><code class="cpp preprocessor">#define AL422_DO4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB4)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 4</code></div><div class="line number12 index11 alt1"><code class="cpp preprocessor">#define AL422_DO5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 5</code></div><div class="line number13 index12 alt2"><code class="cpp preprocessor">#define AL422_DO6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 6</code></div><div class="line number14 index13 alt1"><code class="cpp preprocessor">#define AL422_DO7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINB7)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Data Output 7</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="cpp preprocessor">#define AL422_OE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Output enable</code></div><div class="line number18 index17 alt1"><code class="cpp preprocessor">#define AL422_RCK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Read clock</code></div><div class="line number19 index18 alt2"><code class="cpp preprocessor">#define AL422_NC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA4)</code></div><div class="line number20 index19 alt1"><code class="cpp preprocessor">#define AL422_RRST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Read Reset(actve low)</code></div><div class="line number21 index20 alt2"><code class="cpp preprocessor">#define HREF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA2)</code></div><div class="line number22 index21 alt1"><code class="cpp preprocessor">#define AL422_WEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Write Enable(activ low)</code></div><div class="line number23 index22 alt2"><code class="cpp preprocessor">#define VSYNC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _BV(PINA0)</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number27 index26 alt2"><code class="cpp comments">// AL422 初期処理</code></div><div class="line number28 index27 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number29 index28 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_Init(</code><code class="cpp keyword bold">void</code><code class="cpp plain">)</code></div><div class="line number30 index29 alt1"><code class="cpp plain">{</code></div><div class="line number31 index30 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">DDRA&nbsp; = AL422_RCK | AL422_WEN | AL422_RRST | AL422_OE;</code></div><div class="line number32 index31 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">DDRB&nbsp; = 0b00000000;</code></div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTB = 0b11111111;</code></div><div class="line number34 index33 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = (PORTA &amp;~(AL422_RCK)) | AL422_RRST | VSYNC | HREF | AL422_OE;</code></div><div class="line number36 index35 alt1"><code class="cpp plain">}</code></div><div class="line number37 index36 alt2">&nbsp;</div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number40 index39 alt1"><code class="cpp comments">// AL422 Readリセット</code></div><div class="line number41 index40 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number42 index41 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_ReadReset(</code><code class="cpp keyword bold">void</code><code class="cpp plain">)</code></div><div class="line number43 index42 alt2"><code class="cpp plain">{</code></div><div class="line number44 index43 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number45 index44 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = (PORTA &amp; ~(AL422_RRST)) | AL422_OE;</code></div><div class="line number46 index45 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA &amp; ~(AL422_RCK);</code></div><div class="line number47 index46 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_RCK;</code></div><div class="line number48 index47 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA &amp; ~(AL422_RCK);</code></div><div class="line number49 index48 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_RRST;</code></div><div class="line number50 index49 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = (PORTA &amp; ~(AL422_OE)) | AL422_RCK ;</code></div><div class="line number51 index50 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number52 index51 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number53 index52 alt2"><code class="cpp plain">}</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2">&nbsp;</div><div class="line number56 index55 alt1">&nbsp;</div><div class="line number57 index56 alt2"><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">AL422_ReadEnable( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">)</code></div><div class="line number58 index57 alt1"><code class="cpp plain">{</code></div><div class="line number59 index58 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Data = 0x00;</code></div><div class="line number60 index59 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number61 index60 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA &amp; ~(AL422_RCK);</code></div><div class="line number62 index61 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number63 index62 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">Data = PINB;</code></div><div class="line number64 index63 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number65 index64 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_RCK;</code></div><div class="line number66 index65 alt1">&nbsp;</div><div class="line number67 index66 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number68 index67 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">Data;</code></div><div class="line number69 index68 alt2"><code class="cpp plain">}</code></div><div class="line number70 index69 alt1">&nbsp;</div><div class="line number71 index70 alt2">&nbsp;</div><div class="line number72 index71 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_OutuptEnable( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">)</code></div><div class="line number73 index72 alt2"><code class="cpp plain">{</code></div><div class="line number74 index73 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_OE;</code></div><div class="line number75 index74 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">_delay_us( 10 );</code></div><div class="line number76 index75 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_RCK;</code></div><div class="line number77 index76 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">_delay_us( 40 );</code></div><div class="line number78 index77 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA &amp; ~(AL422_RCK);</code></div><div class="line number79 index78 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">_delay_us( 50 );</code></div><div class="line number80 index79 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_RCK;</code></div><div class="line number81 index80 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">_delay_us( 40 );</code></div><div class="line number82 index81 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA &amp; ~(AL422_OE);</code></div><div class="line number83 index82 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">_delay_us( 50 );</code></div><div class="line number84 index83 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA &amp; ~(AL422_RCK);</code></div><div class="line number85 index84 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">_delay_us( 50 );</code></div><div class="line number86 index85 alt1"><code class="cpp plain">}</code></div><div class="line number87 index86 alt2">&nbsp;</div><div class="line number88 index87 alt1">&nbsp;</div><div class="line number89 index88 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_WriteReset( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">)</code></div><div class="line number90 index89 alt1"><code class="cpp plain">{</code></div><div class="line number91 index90 alt2">&nbsp;</div><div class="line number92 index91 alt1">&nbsp;</div><div class="line number93 index92 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_WEN;&nbsp; </code></div><div class="line number94 index93 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( bit_is_clear(PINA,PINA0));</code></div><div class="line number95 index94 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA &amp; ~(AL422_WEN);</code></div><div class="line number96 index95 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( bit_is_set(PINA,PINA0));</code></div><div class="line number97 index96 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PORTA = PORTA | AL422_WEN;&nbsp; </code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2">&nbsp;</div><div class="line number100 index99 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div><br>
<br>
<br>
・AL422.h<br>
<div><div id="highlighter_507003" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#ifndef __AL422_LIB_H__</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#define __AL422_LIB_H__</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#include "avr/io.h"</code></div><div class="line number6 index5 alt1"><code class="cpp preprocessor">#include "stdbool.h"</code></div><div class="line number7 index6 alt2"><code class="cpp preprocessor">#include "util/delay.h"</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number10 index9 alt1"><code class="cpp comments">// AL422 初期処理</code></div><div class="line number11 index10 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number12 index11 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_Init(</code><code class="cpp keyword bold">void</code><code class="cpp plain">);</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number15 index14 alt2"><code class="cpp comments">// AL422 Readリセット</code></div><div class="line number16 index15 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number17 index16 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_ReadReset(</code><code class="cpp keyword bold">void</code><code class="cpp plain">);</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="cpp plain">unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">AL422_ReadEnable( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">);</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_OutuptEnable( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">);</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="cpp keyword bold">void</code> <code class="cpp plain">AL422_WriteReset( </code><code class="cpp keyword bold">void</code> <code class="cpp plain">);</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="cpp preprocessor">#endif&nbsp; // #ifndef __AL422_LIB_H__</code></div></div></td></tr></tbody></table></div></div><br>
<br>
<br>
・I2C_Lib.c<br>
<div><div id="highlighter_279715" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp comments">//=================================================================================================</code></div><div class="line number2 index1 alt1"><code class="cpp comments">// I2Cライブラリ</code></div><div class="line number3 index2 alt2"><code class="cpp comments">//=================================================================================================</code></div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#include "avr/io.h"</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#include "stdbool.h"</code></div><div class="line number6 index5 alt1"><code class="cpp preprocessor">#include "util/delay.h"</code></div><div class="line number7 index6 alt2"><code class="cpp preprocessor">#include "I2C_Lib.h"</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="cpp comments">//---&lt; 共通の状態符号 &gt;---------------------------------------------------------------------------</code></div><div class="line number12 index11 alt1"><code class="cpp preprocessor">#define TWSR_START&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x08 )&nbsp;&nbsp;&nbsp; // 開始条件送信</code></div><div class="line number13 index12 alt2"><code class="cpp preprocessor">#define TWSR_RESTART&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x10 )&nbsp;&nbsp;&nbsp; // 再送開始条件送信</code></div><div class="line number14 index13 alt1"><code class="cpp preprocessor">#define TWSR_CONFLICT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x38 )&nbsp;&nbsp;&nbsp; // バス競合</code></div><div class="line number15 index14 alt2"><code class="cpp comments">//---&lt; 送信主装置動作の状態符号 &gt;------------------------------------------------------------------</code></div><div class="line number16 index15 alt1"><code class="cpp preprocessor">#define TWSR_SEND_SLA_W_ACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x18 )&nbsp;&nbsp;&nbsp; // SLA+W送信ACK受信</code></div><div class="line number17 index16 alt2"><code class="cpp preprocessor">#define TWSR_SEND_SLA_W_NACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x20 )&nbsp;&nbsp;&nbsp; // SLA+W送信NACK受信</code></div><div class="line number18 index17 alt1"><code class="cpp preprocessor">#define TWSR_SEND_DATA_ACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x28 )&nbsp;&nbsp;&nbsp; // データバイト送信ACK受信</code></div><div class="line number19 index18 alt2"><code class="cpp preprocessor">#define TWSR_SEND_DATA_NACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x30 )&nbsp;&nbsp;&nbsp; // データバイト送信NACK受信</code></div><div class="line number20 index19 alt1"><code class="cpp comments">//---&lt; 受信主装置動作の状態符号 &gt;------------------------------------------------------------------</code></div><div class="line number21 index20 alt2"><code class="cpp preprocessor">#define TWSR_SEND_SLA_R_ACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x40 )&nbsp;&nbsp;&nbsp; // SLA+R送信ACK受信</code></div><div class="line number22 index21 alt1"><code class="cpp preprocessor">#define TWSR_SEND_SLA_R_NACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x48 )&nbsp;&nbsp;&nbsp; // SLA+R送信NACK受信</code></div><div class="line number23 index22 alt2"><code class="cpp preprocessor">#define TWSR_RECV_DATA_ACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x50 )&nbsp;&nbsp;&nbsp; // データバイト受信ACK応答</code></div><div class="line number24 index23 alt1"><code class="cpp preprocessor">#define TWSR_RECV_DATA_NACK&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ( 0x58 )&nbsp;&nbsp;&nbsp; // データバイト受信NACK応答</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number29 index28 alt2"><code class="cpp comments">// 初期化処理</code></div><div class="line number30 index29 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number31 index30 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">I2C_Init(</code><code class="cpp keyword bold">void</code><code class="cpp plain">)</code></div><div class="line number32 index31 alt1"><code class="cpp plain">{</code></div><div class="line number33 index32 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 電力削減レジスタの2線直列インターフェース削減(Power Reduction TWI)を許可</code></div><div class="line number34 index33 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">PRR = PRR &amp; ~(_BV(PRTWI));</code></div><div class="line number35 index34 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number36 index35 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// SCL周波数設定(400KHz)</code></div><div class="line number37 index36 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWSR = 0b00000000;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// TWIビット速度前置分周器選択(分周値:1)</code></div><div class="line number38 index37 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWBR = 51;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="cpp comments">// TWIビット速度レジスタ(17)</code></div><div class="line number39 index38 alt2">&nbsp;</div><div class="line number40 index39 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code><code class="cpp plain">;</code></div><div class="line number41 index40 alt2"><code class="cpp plain">}</code></div><div class="line number42 index41 alt1">&nbsp;</div><div class="line number43 index42 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number44 index43 alt1"><code class="cpp comments">// 書込み（主装置動作）</code></div><div class="line number45 index44 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number46 index45 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">I2C_Master_Write( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Data )</code></div><div class="line number47 index46 alt2"><code class="cpp plain">{</code></div><div class="line number48 index47 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">bRet = </code><code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number49 index48 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">//unsigned char i = 0;</code></div><div class="line number50 index49 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number51 index50 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number52 index51 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 開始条件送出</code></div><div class="line number53 index52 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWSTA) | _BV(TWEN);</code></div><div class="line number54 index53 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number55 index54 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_START )</code></div><div class="line number56 index55 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number57 index56 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">I2C_MASTER_WRITE_END_PROC;</code></div><div class="line number58 index57 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number59 index58 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number60 index59 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// SLA+W送信</code></div><div class="line number61 index60 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWDR = Slave | 0x00;</code></div><div class="line number62 index61 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWEN);</code></div><div class="line number63 index62 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number64 index63 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_SEND_SLA_W_ACK )</code></div><div class="line number65 index64 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number66 index65 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">I2C_MASTER_WRITE_END_PROC;</code></div><div class="line number67 index66 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number68 index67 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number69 index68 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// データ送信</code></div><div class="line number70 index69 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWDR = Data;</code></div><div class="line number71 index70 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWEN);</code></div><div class="line number72 index71 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number73 index72 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_SEND_DATA_ACK )</code></div><div class="line number74 index73 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number75 index74 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">I2C_MASTER_WRITE_END_PROC;</code></div><div class="line number76 index75 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number77 index76 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bRet = </code><code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number78 index77 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number79 index78 alt2"><code class="cpp plain">I2C_MASTER_WRITE_END_PROC:&nbsp; </code></div><div class="line number80 index79 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 停止条件送出</code></div><div class="line number81 index80 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWSTO) | _BV(TWEN);</code></div><div class="line number82 index81 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number83 index82 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">bRet;</code></div><div class="line number84 index83 alt1"><code class="cpp plain">}</code></div><div class="line number85 index84 alt2">&nbsp;</div><div class="line number86 index85 alt1">&nbsp;</div><div class="line number87 index86 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number88 index87 alt1"><code class="cpp comments">// 読込み（主装置動作）</code></div><div class="line number89 index88 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number90 index89 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">I2C_Master_Read( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">*pData )</code></div><div class="line number91 index90 alt2"><code class="cpp plain">{</code></div><div class="line number92 index91 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">bRet = </code><code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number93 index92 alt2">&nbsp;</div><div class="line number94 index93 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number95 index94 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 開始条件送出</code></div><div class="line number96 index95 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWSTA) | _BV(TWEN);</code></div><div class="line number97 index96 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number98 index97 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_START )</code></div><div class="line number99 index98 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number100 index99 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">I2C_MASTER_READ_END_PROC;</code></div><div class="line number101 index100 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number102 index101 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number103 index102 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// SLA+R送信</code></div><div class="line number104 index103 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWDR = Slave | 0x01;</code></div><div class="line number105 index104 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWEN);</code></div><div class="line number106 index105 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number107 index106 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_SEND_SLA_R_ACK )</code></div><div class="line number108 index107 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number109 index108 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">I2C_MASTER_READ_END_PROC;</code></div><div class="line number110 index109 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number111 index110 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number112 index111 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// データ受信</code></div><div class="line number113 index112 alt2"><code class="cpp comments">//&nbsp; TWCR = _BV(TWINT) | _BV(TWEN) | _BV(TWEA);</code></div><div class="line number114 index113 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWEN);</code></div><div class="line number115 index114 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number116 index115 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_RECV_DATA_NACK )</code></div><div class="line number117 index116 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number118 index117 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">I2C_MASTER_READ_END_PROC;</code></div><div class="line number119 index118 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number120 index119 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">*pData = TWDR;</code></div><div class="line number121 index120 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bRet = </code><code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number122 index121 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number123 index122 alt2"><code class="cpp plain">I2C_MASTER_READ_END_PROC:&nbsp;&nbsp; </code></div><div class="line number124 index123 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 停止条件送出</code></div><div class="line number125 index124 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWSTO) | _BV(TWEN);</code></div><div class="line number126 index125 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number127 index126 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">bRet;</code></div><div class="line number128 index127 alt1"><code class="cpp plain">}</code></div><div class="line number129 index128 alt2">&nbsp;</div><div class="line number130 index129 alt1">&nbsp;</div><div class="line number131 index130 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number132 index131 alt1"><code class="cpp comments">// SCCB 書込み</code></div><div class="line number133 index132 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number134 index133 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">SCCB_Write( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">addr, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Data )</code></div><div class="line number135 index134 alt2"><code class="cpp plain">{</code></div><div class="line number136 index135 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">bRet = </code><code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number137 index136 alt2">&nbsp;</div><div class="line number138 index137 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number139 index138 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 開始条件送出</code></div><div class="line number140 index139 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWSTA) | _BV(TWEN);</code></div><div class="line number141 index140 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number142 index141 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_START )</code></div><div class="line number143 index142 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number144 index143 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">SCCB_WRITE_END_PROC;</code></div><div class="line number145 index144 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number146 index145 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number147 index146 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// SLA+W送信</code></div><div class="line number148 index147 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWDR = Slave | 0x00;</code></div><div class="line number149 index148 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWEN);</code></div><div class="line number150 index149 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number151 index150 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_SEND_SLA_W_ACK )</code></div><div class="line number152 index151 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number153 index152 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">SCCB_WRITE_END_PROC;</code></div><div class="line number154 index153 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number155 index154 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number156 index155 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// アドレスセット</code></div><div class="line number157 index156 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWDR = addr;</code></div><div class="line number158 index157 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWEN);</code></div><div class="line number159 index158 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number160 index159 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_SEND_DATA_ACK )</code></div><div class="line number161 index160 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number162 index161 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">SCCB_WRITE_END_PROC;</code></div><div class="line number163 index162 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number164 index163 alt1">&nbsp;</div><div class="line number165 index164 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// データ書込み</code></div><div class="line number166 index165 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWDR = Data;</code></div><div class="line number167 index166 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWEN);</code></div><div class="line number168 index167 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">while</code><code class="cpp plain">( !(TWCR &amp; _BV(TWINT)) );</code></div><div class="line number169 index168 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( (TWSR &amp; 0xF8) != TWSR_SEND_DATA_ACK )</code></div><div class="line number170 index169 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number171 index170 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">goto</code> <code class="cpp plain">SCCB_WRITE_END_PROC;</code></div><div class="line number172 index171 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number173 index172 alt2">&nbsp;</div><div class="line number174 index173 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bRet = </code><code class="cpp keyword bold">true</code><code class="cpp plain">;</code></div><div class="line number175 index174 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number176 index175 alt1"><code class="cpp plain">SCCB_WRITE_END_PROC:&nbsp;&nbsp;&nbsp; </code></div><div class="line number177 index176 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// 停止条件送出</code></div><div class="line number178 index177 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">TWCR = _BV(TWINT) | _BV(TWSTO) | _BV(TWEN);</code></div><div class="line number179 index178 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number180 index179 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">bRet;</code></div><div class="line number181 index180 alt2"><code class="cpp plain">}</code></div><div class="line number182 index181 alt1">&nbsp;</div><div class="line number183 index182 alt2">&nbsp;</div><div class="line number184 index183 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number185 index184 alt2"><code class="cpp comments">// SCCB 読込み</code></div><div class="line number186 index185 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number187 index186 alt2"><code class="cpp color1 bold">bool</code> <code class="cpp plain">SCCB_Read( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">addr, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">*pData )</code></div><div class="line number188 index187 alt1"><code class="cpp plain">{</code></div><div class="line number189 index188 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp color1 bold">bool</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="cpp plain">bRet = </code><code class="cpp keyword bold">false</code><code class="cpp plain">;</code></div><div class="line number190 index189 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number191 index190 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number192 index191 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp comments">// アドレスセット</code></div><div class="line number193 index192 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bRet = I2C_Master_Write( Slave, addr );</code></div><div class="line number194 index193 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">if</code> <code class="cpp plain">( bRet == </code><code class="cpp keyword bold">true</code> <code class="cpp plain">)</code></div><div class="line number195 index194 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">{</code></div><div class="line number196 index195 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">bRet = I2C_Master_Read( Slave, pData );</code></div><div class="line number197 index196 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp plain">}</code></div><div class="line number198 index197 alt1"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number199 index198 alt2"><code class="cpp spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="cpp keyword bold">return</code> <code class="cpp plain">bRet;</code></div><div class="line number200 index199 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div>
<br>
<br>
・I2C_Lib.h<br>
<div><div id="highlighter_802286" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://mibc.blog.fc2.com/blog-category-9.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp comments">//=================================================================================================</code></div><div class="line number2 index1 alt1"><code class="cpp comments">// I2Cライブラリ ヘッダーファイル</code></div><div class="line number3 index2 alt2"><code class="cpp comments">//=================================================================================================</code></div><div class="line number4 index3 alt1"><code class="cpp preprocessor">#ifndef __I2C_LIB_H__</code></div><div class="line number5 index4 alt2"><code class="cpp preprocessor">#define __I2C_LIB_H__</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="cpp preprocessor">#include "avr/io.h"</code></div><div class="line number8 index7 alt1"><code class="cpp preprocessor">#include "stdbool.h"</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number11 index10 alt2"><code class="cpp comments">// I2C初期化処理</code></div><div class="line number12 index11 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number13 index12 alt2"><code class="cpp keyword bold">void</code> <code class="cpp plain">I2C_Init(</code><code class="cpp keyword bold">void</code><code class="cpp plain">);</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number17 index16 alt2"><code class="cpp comments">// 書込み（主装置動作）</code></div><div class="line number18 index17 alt1"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number19 index18 alt2"><code class="cpp comments">//bool I2C_Master_Write( unsigned char Slave, unsigned char *pData, unsigned char DataSize );</code></div><div class="line number20 index19 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">I2C_Master_Write( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Data );</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number24 index23 alt1"><code class="cpp comments">// 読込み（主装置動作）</code></div><div class="line number25 index24 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number26 index25 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">I2C_Master_Read( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">*pData );</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number30 index29 alt1"><code class="cpp comments">// SCCB 書込み</code></div><div class="line number31 index30 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number32 index31 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">SCCB_Write( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">addr, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Data );</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number36 index35 alt1"><code class="cpp comments">// SCCB 読込み</code></div><div class="line number37 index36 alt2"><code class="cpp comments">//-------------------------------------------------------------------------------------------------</code></div><div class="line number38 index37 alt1"><code class="cpp color1 bold">bool</code> <code class="cpp plain">SCCB_Read( unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">Slave, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">addr, unsigned </code><code class="cpp color1 bold">char</code> <code class="cpp plain">*pData );</code></div><div class="line number39 index38 alt2">&nbsp;</div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="cpp preprocessor">#endif&nbsp; // #ifndef __I2C_LIB_H__</code></div></div></td></tr></tbody></table></div></div><br>
<span style="color:#FF0000">画面サイズのデファインを定義しているのに使用していなかったり、ATMEGA644のPINのデファインを２重で定義していたりと他人に見せるようなプログラムではないのですが、記録として掲載しました。ご了承願います。</span>
   <!-- ▼　追記 ▼ -->
      <div class="fc2_footer" style="text-align:left;vertical-align:middle;height:auto;"><a href="javascript:;" onclick="javascript:window.open(&#39;http://blogvote.fc2.com/pickup/mibc/29/clap&#39;);"><img src="./OV7670 + FIFO   MIBC備忘録_files/2.gif" style="border:0;"></a> </div>
   <!-- ▼　ソーシャルリンク ▼ -->
   <div class="rn-social">
      <ul class="clearfix">
         <li class="rn-hatena"><a href="http://b.hatena.ne.jp/entry/http://mibc.blog.fc2.com/blog-entry-29.html" class="hatena-bookmark-button" data-hatena-bookmark-title="OV7670 + FIFOカメラ (3.5) " data-hatena-bookmark-layout="simple" data-hatena-bookmark-initialized="1">.</a><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/bookmark_button.js" charset="utf-8" async="async"></script></li> 
         <li class="rn-tweet"><a href="http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-29.html&text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283.5%29%20" onclick="javascript:window.open(&#39;http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-29.html&amp;text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283.5%29%20&#39; ,null ,&#39;width=550 ,height=450, left=500, top=300&#39;); return false;">.</a></li> 
         <li class="rn-face"><a href="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-29.html" onclick="javascript:window.open(&#39;http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-29.html&#39; ,null ,&#39;width=400 ,height=100, left=500, top=300&#39;); return false;">.</a></li>
         <li class="rn-yahoo"><a href="http://bookmarks.yahoo.co.jp/action/bookmark?t=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283.5%29%20&u=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-29.html" target="_blank">.</a></li>
         <li class="rn-live"><a href="http://clip.livedoor.com/clip/add?link=http://mibc.blog.fc2.com/blog-entry-29.html&title=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283.5%29%20&jump=ref" target="_blank">.</a></li> 
      </ul>
   </div>

   <!-- ▼ メタデータ ▼ -->
   <p class="entry-footer">Entry ⇒ 2012.07.29  ｜ Category ⇒ <a href="./OV7670 + FIFO   MIBC備忘録_files/OV7670 + FIFO   MIBC備忘録.htm">OV7670 + FIFO</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-29.html#comments">Comments (2)</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-29.html#trackbacks" title="trackbacks29">Trackbacks (0)</a></p>
   <!--
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
            xmlns:dc="http://purl.org/dc/elements/1.1/">
   <rdf:Description
       rdf:about="http://mibc.blog.fc2.com/blog-entry-29.html"
       trackback:ping="http://mibc.blog.fc2.com/tb.php/29-a9146af5"
       dc:title="OV7670 + FIFOカメラ (3.5) "
       dc:identifier="http://mibc.blog.fc2.com/blog-entry-29.html"
       dc:subject="OV7670 + FIFO"
       dc:description="土日にOV7670の設定を弄ろうと思っていたのですが、別な用事が入ってしまいできませんでした。
とりあえず、先週末にカラーバーを表示したソースを載せておきます。
※OV7670の設定処理はリナックスドライバの処理と購入先のサンプルプログラムを参照しましたが、最終的に購入先のサンプルプログラムを使用させていただきました。

OV7670 + FIFOの回路図を参照すると、AL422のWriteReset(Active Low)がOV7670のVSYNCと繋がって..."
       dc:creator="MIBC"
       dc:date="2012-07-29T22:52:17+09:00" />
   </rdf:RDF>
   -->

</rb></div><!-- ▼　記事タイトル ▼ -->
<h2 id="a28" class="entry-title"><a href="http://mibc.blog.fc2.com/blog-entry-28.html">OV7670 + FIFOカメラ (3)</a></h2>
<!-- ▼　エントリー ▼ -->
<div class="entry-body">
   設定と画像フォーマットの理解ができていないため思うように画像を表示できないのですが、やっとの事でRGB565でカラーバーを表示できるようになりました。（カメラで撮影した画像はピンボケです）<br><br>最初は撮影した画像を表示して確認しようと思ったのですが、表示される画像がピンボケで確認がとれない状態のため、OV7670を購入したサイトのサンプルプログラムの設定処理にカラーバーを表示させるようにして確認することにしました。<br>撮影画像をリアルタイムに表示できるスキルがないので、タクトスイッチを押すと押したときの画像をシリアルでPCに送信し、PCでバイナリ変換したデータを画像表示ツールで表示させて確認しています。<br>最終的にはPC側から制御できるアプリを作成したいです。<br><br><a href="http://mibc.blog.fc2.com/img/colorbar.png/" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/colorbar.png" alt="colorbar.png" border="0" width="165" height="149"></a><br><br>RGB565フォーマットではきれいに表示できることが確認できたので、設定をいろいろ弄って確認していきます。<br><br><br><br>
   <!-- ▼　追記 ▼ -->
      <div class="fc2_footer" style="text-align:left;vertical-align:middle;height:auto;"><a href="javascript:;" onclick="javascript:window.open(&#39;http://blogvote.fc2.com/pickup/mibc/28/clap&#39;);"><img src="./OV7670 + FIFO   MIBC備忘録_files/w-white.gif" style="border:0;"></a> </div>
   <!-- ▼　ソーシャルリンク ▼ -->
   <div class="rn-social">
      <ul class="clearfix">
         <li class="rn-hatena"><a href="http://b.hatena.ne.jp/entry/http://mibc.blog.fc2.com/blog-entry-28.html" class="hatena-bookmark-button" data-hatena-bookmark-title="OV7670 + FIFOカメラ (3)" data-hatena-bookmark-layout="simple" data-hatena-bookmark-initialized="1">.</a><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/bookmark_button.js" charset="utf-8" async="async"></script></li> 
         <li class="rn-tweet"><a href="http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-28.html&text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283%29" onclick="javascript:window.open(&#39;http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-28.html&amp;text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283%29&#39; ,null ,&#39;width=550 ,height=450, left=500, top=300&#39;); return false;">.</a></li> 
         <li class="rn-face"><a href="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-28.html" onclick="javascript:window.open(&#39;http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-28.html&#39; ,null ,&#39;width=400 ,height=100, left=500, top=300&#39;); return false;">.</a></li>
         <li class="rn-yahoo"><a href="http://bookmarks.yahoo.co.jp/action/bookmark?t=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283%29&u=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-28.html" target="_blank">.</a></li>
         <li class="rn-live"><a href="http://clip.livedoor.com/clip/add?link=http://mibc.blog.fc2.com/blog-entry-28.html&title=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%283%29&jump=ref" target="_blank">.</a></li> 
      </ul>
   </div>

   <!-- ▼ メタデータ ▼ -->
   <p class="entry-footer">Entry ⇒ 2012.07.27  ｜ Category ⇒ <a href="./OV7670 + FIFO   MIBC備忘録_files/OV7670 + FIFO   MIBC備忘録.htm">OV7670 + FIFO</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-28.html#comments">Comments (0)</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-28.html#trackbacks" title="trackbacks28">Trackbacks (0)</a></p>
   <!--
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
            xmlns:dc="http://purl.org/dc/elements/1.1/">
   <rdf:Description
       rdf:about="http://mibc.blog.fc2.com/blog-entry-28.html"
       trackback:ping="http://mibc.blog.fc2.com/tb.php/28-59e38ade"
       dc:title="OV7670 + FIFOカメラ (3)"
       dc:identifier="http://mibc.blog.fc2.com/blog-entry-28.html"
       dc:subject="OV7670 + FIFO"
       dc:description="設定と画像フォーマットの理解ができていないため思うように画像を表示できないのですが、やっとの事でRGB565でカラーバーを表示できるようになりました。（カメラで撮影した画像はピンボケです）最初は撮影した画像を表示して確認しようと思ったのですが、表示される画像がピンボケで確認がとれない状態のため、OV7670を購入したサイトのサンプルプログラムの設定処理にカラーバーを表示させるようにして確認することにしました。..."
       dc:creator="MIBC"
       dc:date="2012-07-27T22:07:24+09:00" />
   </rdf:RDF>
   -->

</div><!-- ▼　記事タイトル ▼ -->
<h2 id="a27" class="entry-title"><a href="http://mibc.blog.fc2.com/blog-entry-27.html">OV7670 + FIFOカメラ (2)</a></h2>
<!-- ▼　エントリー ▼ -->
<div class="entry-body">
   カメラデバイスの設定がまだ分かっていないので、とりあえずサンプルプログラムの設定処理をそのまま使用して画像が送られてきているか確認してみました。<br>AL422(FIFOメモリ）の制御がまだできていないため、カメラデバイスから取り込んだ画像を取得できないので、カメラデバイスからVSYNC・HREFが通知されているかの確認をロジアナを使用して確認しました。<br><br>■OV7670のデータシート<br><a href="http://mibc.blog.fc2.com/img/VSYNC.png/" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/VSYNC.png" alt="VSYNC.png" border="0" width="500" height="231" style="opacity: 1;"></a><br><br>■ロジアナ（A0:VSYNC・A1：HREF)<br><a href="http://mibc.blog.fc2.com/img/2012072500300091c.png/" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/2012072500300091c.png" alt="ロジアナ" border="0" width="599" height="111" style="opacity: 1;"></a><br><br>ロジアナで取得した結果がOV7670のデータシートと同じような感じで出ているので、カメラデバイスは動作していることが確認でしました。今度はカメラデバイスの設定を理解するのと、AL422から画像を取得・表示ができるようにしたいと思います。
   <!-- ▼　追記 ▼ -->
      <div class="fc2_footer" style="text-align:left;vertical-align:middle;height:auto;"><a href="javascript:;" onclick="javascript:window.open(&#39;http://blogvote.fc2.com/pickup/mibc/27/clap&#39;);"><img src="./OV7670 + FIFO   MIBC備忘録_files/w-white.gif" style="border:0;"></a> </div>
   <!-- ▼　ソーシャルリンク ▼ -->
   <div class="rn-social">
      <ul class="clearfix">
         <li class="rn-hatena"><a href="http://b.hatena.ne.jp/entry/http://mibc.blog.fc2.com/blog-entry-27.html" class="hatena-bookmark-button" data-hatena-bookmark-title="OV7670 + FIFOカメラ (2)" data-hatena-bookmark-layout="simple" data-hatena-bookmark-initialized="1">.</a><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/bookmark_button.js" charset="utf-8" async="async"></script></li> 
         <li class="rn-tweet"><a href="http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-27.html&text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%282%29" onclick="javascript:window.open(&#39;http://twitter.com/share?url=http://mibc.blog.fc2.com/blog-entry-27.html&amp;text=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%282%29&#39; ,null ,&#39;width=550 ,height=450, left=500, top=300&#39;); return false;">.</a></li> 
         <li class="rn-face"><a href="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-27.html" onclick="javascript:window.open(&#39;http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-27.html&#39; ,null ,&#39;width=400 ,height=100, left=500, top=300&#39;); return false;">.</a></li>
         <li class="rn-yahoo"><a href="http://bookmarks.yahoo.co.jp/action/bookmark?t=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%282%29&u=http%3A%2F%2Fmibc.blog.fc2.com%2Fblog-entry-27.html" target="_blank">.</a></li>
         <li class="rn-live"><a href="http://clip.livedoor.com/clip/add?link=http://mibc.blog.fc2.com/blog-entry-27.html&title=OV7670%20%2B%20FIFO%E3%82%AB%E3%83%A1%E3%83%A9%20%282%29&jump=ref" target="_blank">.</a></li> 
      </ul>
   </div>

   <!-- ▼ メタデータ ▼ -->
   <p class="entry-footer">Entry ⇒ 2012.07.25  ｜ Category ⇒ <a href="./OV7670 + FIFO   MIBC備忘録_files/OV7670 + FIFO   MIBC備忘録.htm">OV7670 + FIFO</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-27.html#comments">Comments (0)</a> ｜ <a href="http://mibc.blog.fc2.com/blog-entry-27.html#trackbacks" title="trackbacks27">Trackbacks (0)</a></p>
   <!--
   <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
            xmlns:dc="http://purl.org/dc/elements/1.1/">
   <rdf:Description
       rdf:about="http://mibc.blog.fc2.com/blog-entry-27.html"
       trackback:ping="http://mibc.blog.fc2.com/tb.php/27-ca8238df"
       dc:title="OV7670 + FIFOカメラ (2)"
       dc:identifier="http://mibc.blog.fc2.com/blog-entry-27.html"
       dc:subject="OV7670 + FIFO"
       dc:description="カメラデバイスの設定がまだ分かっていないので、とりあえずサンプルプログラムの設定処理をそのまま使用して画像が送られてきているか確認してみました。AL422(FIFOメモリ）の制御がまだできていないため、カメラデバイスから取り込んだ画像を取得できないので、カメラデバイスからVSYNC・HREFが通知されているかの確認をロジアナを使用して確認しました。■OV7670のデータシート■ロジアナ（A0:VSYNC・A1：HREF)ロジアナで取得した..."
       dc:creator="MIBC"
       dc:date="2012-07-25T00:45:51+09:00" />
   </rdf:RDF>
   -->

</div>
<!-- ▼　アーカイブ ▼ -->

<!-- ▼　検索結果 ▼ -->

<!-- ▼ コメント ▼ -->

<!-- ▼　トラックバック ▼ -->

<!-- ▼　ページナビ ▼ -->
<div id="content-nav">
<script type="text/javascript"><!--
pagenavi(10); //--></script> <b>1</b>  <a href="http://mibc.blog.fc2.com/category9-1.html">2</a> 
 ｜ <a href="http://mibc.blog.fc2.com/category9-1.html">NEXT≫</a></div>

</div><!-- メインボックス終了 -->

<!-- ▼　右ボックス ▼ -->
<div id="right-box">
      
   <div class="side-title">プロフィール</div>
   <div class="side-body">
            <p class="plugin-myimage" style="text-align:left">
<img src="./OV7670 + FIFO   MIBC備忘録_files/20120430232033e1c.jpg" alt="MIBC">
</p>
<p style="text-align:left">
Author:MIBC<br>
ブログに掲載している配線図・プログラムを使用しても良いですが、障害が発生しても一切責任を負いません。ご了承よろしくお願いします。<br><br>■お願い■<br>予想を反して色々な方がこのホームページを見にこられるようになってきております。<br>もし参考になった記事がありましたら、拍手ボタンを押していただけるとどの様な記事が良かったかの資料となったり、今後の励みになったりします。<br>お手数ですが参考になった記事がありましたら、参考になった記事の一番最後にあります拍手ボタンを押していただけると助かります。よろしくお願いします。</p>
         </div>
   
   <div class="side-title">最新記事</div>
   <div class="side-body">
            <ul>
<li style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-entry-124.html" title="WHERE文にエイリアスを使用する方法(SQL Server2012)">WHERE文にエイリアスを使用する方法(SQL Server2012) (04/25)</a>
</li><li style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-entry-123.html" title="「10日でおぼえる jQuery入門教室」を読み終えました">「10日でおぼえる jQuery入門教室」を読み終えました (04/21)</a>
</li><li style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-entry-122.html" title="勉強することが多すぎ…">勉強することが多すぎ… (04/19)</a>
</li><li style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-entry-120.html" title="ASP .NET JavaScriptのデバッグ">ASP .NET JavaScriptのデバッグ (04/17)</a>
</li><li style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-entry-119.html" title="ASP .NET デバッグ時のデフォルトブラウザを設定する">ASP .NET デバッグ時のデフォルトブラウザを設定する (04/16)</a>
</li></ul>
         </div>
   
   <div class="side-title">カテゴリ</div>
   <div class="side-body">
            <div>
<div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-2.html" title="電子工作">電子工作 (39)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-11.html" title="XBee Wi-Fi">XBee Wi-Fi (6)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-10.html" title="WIZ820io">WIZ820io (2)</a>
</div><div style="text-align:left">
┣<a href="./OV7670 + FIFO   MIBC備忘録_files/OV7670 + FIFO   MIBC備忘録.htm" title="OV7670 + FIFO">OV7670 + FIFO (6)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-1.html" title="JTAG">JTAG (4)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-6.html" title="LED">LED (5)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-18.html" title="赤外線リモコン">赤外線リモコン (3)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-5.html" title="USART">USART (3)</a>
</div><div style="text-align:left">
┗<a href="http://mibc.blog.fc2.com/blog-category-7.html" title="Servo">Servo (1)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-3.html" title="プログラミング">プログラミング (27)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-4.html" title="OS">OS (1)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-16.html" title="C#">C# (14)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-8.html" title="Excel VBA">Excel VBA (3)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-14.html" title="JAVA">JAVA (1)</a>
</div><div style="text-align:left">
┣<a href="http://mibc.blog.fc2.com/blog-category-23.html" title="ASP.NET">ASP.NET (4)</a>
</div><div style="text-align:left">
┗<a href="http://mibc.blog.fc2.com/blog-category-22.html" title="VC++">VC++ (1)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-12.html" title="STM32">STM32 (18)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-0.html" title="未分類">未分類 (10)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-21.html" title="Open CV">Open CV (5)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-13.html" title="Subversion">Subversion (10)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-15.html" title="Excel 2010">Excel 2010 (1)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-17.html" title="Cygwin">Cygwin (3)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-19.html" title="DB">DB (3)</a>
</div><div style="text-align:left">
<a href="http://mibc.blog.fc2.com/blog-category-20.html" title="Windows">Windows (1)</a>
</div></div>
         </div>
   
   <div class="side-title">アクセスカウンター</div>
   <div class="side-body">
            <div class="plugin-counter" style="text-align:left">
	<script language="JavaScript" type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/counter.php"></script><script type="text/javascript" language="javascript" src="./OV7670 + FIFO   MIBC備忘録_files/counter_js.php" charset="UTF-8"></script><a href="http://counter.fc2.com/" target="_blank" onmouseover="_FC2COUNTER14825134_1.show_graph(event);" onmouseout="_FC2COUNTER14825134_1.hide_graph(event);"><span><nobr><img border="0" src="./OV7670 + FIFO   MIBC備忘録_files/l.gif" alt="FC2無料カウンター" "="" title="FC2無料カウンター" style="display:inline;margin:0px;padding:0px;border:none;"><img border="0" src="./OV7670 + FIFO   MIBC備忘録_files/3.gif" alt="FC2無料カウンター" "="" title="FC2無料カウンター" style="display:inline;margin:0px;padding:0px;border:none;"><img border="0" src="./OV7670 + FIFO   MIBC備忘録_files/3.gif" alt="FC2無料カウンター" "="" title="FC2無料カウンター" style="display:inline;margin:0px;padding:0px;border:none;"><img border="0" src="./OV7670 + FIFO   MIBC備忘録_files/8.gif" alt="FC2無料カウンター" "="" title="FC2無料カウンター" style="display:inline;margin:0px;padding:0px;border:none;"><img border="0" src="./OV7670 + FIFO   MIBC備忘録_files/1.gif" alt="FC2無料カウンター" "="" title="FC2無料カウンター" style="display:inline;margin:0px;padding:0px;border:none;"><img border="0" src="./OV7670 + FIFO   MIBC備忘録_files/9.gif" alt="FC2無料カウンター" "="" title="FC2無料カウンター" style="display:inline;margin:0px;padding:0px;border:none;"><img border="0" src="./OV7670 + FIFO   MIBC備忘録_files/r.gif" alt="FC2無料カウンター" "="" title="FC2無料カウンター" style="display:inline;margin:0px;padding:0px;border:none;"></nobr><span></span></span></a>

	<noscript>&lt;img src="http://counter1.fc2.com/counter_img.php?id=14825134&amp;main=1"&gt;</noscript>
</div>
         </div>
   
   <div class="side-title">Revolver Map</div>
   <div class="side-body">
            <script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/r.js"></script><script type="text/javascript">rm_f1st('0','190','true','false','000000','aogv13pilo4','true','ff0000');</script><object data="http://rk.revolvermaps.com/f/g.swf" type="application/x-shockwave-flash" id="rm_3a3sZq" width="190" height="190"><param name="movie" value="http://rk.revolvermaps.com/f/g.swf"><param name="allowNetworking" value="all"><param name="allowScriptAccess" value="always"><param name="wmode" value="window"><param name="flashvars" value="m=0&amp;n=false&amp;b=000000&amp;r=true&amp;i=aogv13pilo4&amp;v=true&amp;c=ff0000&amp;s=190"></object><noscript>&lt;applet codebase="http://rk.revolvermaps.com/j" code="core.RE" width="190" height="190" archive="g.jar"&gt;&lt;param name="cabbase" value="g.cab" /&gt;&lt;param name="r" value="true" /&gt;&lt;param name="n" value="false" /&gt;&lt;param name="i" value="aogv13pilo4" /&gt;&lt;param name="m" value="0" /&gt;&lt;param name="s" value="190" /&gt;&lt;param name="c" value="ff0000" /&gt;&lt;param name="v" value="true" /&gt;&lt;param name="b" value="000000" /&gt;&lt;param name="rfc" value="true" /&gt;&lt;/applet&gt;</noscript>
         </div>
   
   <div class="side-title">楽天</div>
   <div class="side-body">
            <div class="plugin-freearea" style="text-align:left">
  <!-- Rakuten Widget FROM HERE --><script type="text/javascript">rakuten_design="slide";rakuten_affiliateId="1019ed78.f529c269.1019ed79.823c2910";rakuten_items="ctsmatch";rakuten_genreId=0;rakuten_size="200x600";rakuten_target="_self";rakuten_theme="gray";rakuten_border="on";rakuten_auto_mode="on";rakuten_genre_title="off";rakuten_recommend="on";</script><script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/rakuten_widget.js"></script><script src="./OV7670 + FIFO   MIBC備忘録_files/rasi.js"></script><script src="./OV7670 + FIFO   MIBC備忘録_files/nolog.js">
</script>

<iframe width="200" height="600" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" allowtransparency="true" src="./OV7670 + FIFO   MIBC備忘録_files/index.htm"></iframe><!-- Rakuten Widget TO HERE -->
</div>
         </div>
   
   <div class="side-title">Amazon</div>
   <div class="side-body">
            <p>Amazon商品一覧【新着順】</p>
            <div class="plugin-newamazon" style="text-align:left">
  <div style="width:90%;">
      <a href="http://blog.fc2.com/goods/4789846040/m0b25-22" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/41hUli2JMiL._SL75_.jpg" border="0" alt="試しながら学ぶAVR入門―マイコンの基礎と電子工作とWindowsアプリケーションの作り方 (SkiLL up mycomputerシリーズ)"></a><br>
      <a href="http://blog.fc2.com/goods/4789846040/m0b25-22" target="_blank">試しながら学ぶAVR入門―マイコンの基礎と電子工作とWindowsアプリケーションの作り方 (SkiLL up mycomputerシリーズ)</a>
    </div>
    <br></div>
         </div>
   
   <div class="side-title">日めくりカレンダー</div>
   <div class="side-body">
            <div class="plugin-freearea" style="text-align:left">
  <script type="text/javascript" language="javascript" src="./OV7670 + FIFO   MIBC備忘録_files/calendar.php"></script><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,28,0" width="155" height="367" id="casio_calendar" align="middle"><param name="allowScriptAccess" value="always"><param name="movie" value="http://keisan.casio.jp/keisan/blogparts/calendar/casio_calendar.swf"><param name="FlashVars" value="pref=3&amp;color=&amp;ymd="><param name="quality" value="high"><param name="bgcolor" value="#ffffff"><param name="wmode" value="transparent"><embed flashvars="pref=3&amp;color=&amp;ymd=" width="155" height="367" src="http://keisan.casio.jp/keisan/blogparts/calendar/casio_calendar.swf" quality="high" pluginspage="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" wmode="transparent" allowscriptaccess="always"> </object>
</div>
         </div>
   
   <div class="side-title">なかのひと</div>
   <div class="side-body">
            <div class="plugin-freearea" style="text-align:left">
  <!-- nakanohito -->
<script language="Javascript">
<!--
var refer = document.referrer;
document.write("<a href='http://nakanohito.jp/'>");
document.write("<img src='http://nakanohito.jp/an/?u=232003&h=1044854&w=128&guid=ON&t=&version=js&refer="+escape(parent.document.referrer)+"&url="+escape(parent.document.URL)+"' border='0' width='128' height='128' />");
document.write("</a>");
//-->
</script><a href="http://nakanohito.jp/"><img src="./OV7670 + FIFO   MIBC備忘録_files/saved_resource(2)" border="0" width="128" height="128"></a>
<noscript>
&lt;img src="http://nakanohito.jp/an/?u=232003&amp;h=1044854&amp;w=128&amp;guid=ON&amp;t=" width="128" height="128" alt="" border="0" /&gt;
</noscript>
<!-- nakanohito end -->
</div>
         </div>
   
   <div class="side-title">リンク</div>
   <div class="side-body">
            <ul>
<li style="text-align:left"><a href="http://akizukidenshi.com/catalog/default.aspx" title="秋月電子" target="_blank">秋月電子</a></li><li style="text-align:left"><a href="http://www.marutsu.co.jp/" title="マルツパーツ館" target="_blank">マルツパーツ館</a></li><li style="text-align:left"><a href="http://eleshop.jp/shop/default.aspx" title="共立エレショップ" target="_blank">共立エレショップ</a></li><li style="text-align:left"><a href="http://strawberry-linux.com/" title="ストロベリー・リナックス" target="_blank">ストロベリー・リナックス</a></li><li style="text-align:left"><a href="http://www.switch-science.com/" title="スイッチサイエンス" target="_blank">スイッチサイエンス</a></li><li style="text-align:left"><a href="http://www.aitendo.com/" title="aitendo" target="_blank">aitendo</a></li><li style="text-align:left"><a href="http://www.csun.co.jp/" title="日昇テクノロジー" target="_blank">日昇テクノロジー</a></li><li style="text-align:left"><a href="http://secsuzuki.blog19.fc2.com/" title="切り粉好き" target="_blank">切り粉好き</a></li><li style="text-align:left"><a href="http://woodcnc300.blog.fc2.com/" title="木製CNC自作" target="_blank">木製CNC自作</a></li><li style="text-align:left"><a href="http://gushwell.ifdef.jp/" title="Gushwell&#39;s C# Programming Page" target="_blank">Gushwell's C# Programming Page</a></li><li><a href="http://mibc.blog.fc2.com/?admin">管理画面</a></li>
</ul>
            <p><a href="javascript:window.location.replace('http://blog.fc2.com/?linkid=mibc');">このブログをリンクに追加する</a></p>
         </div>
   
   
   </div>

</div><!-- ブログ終了 -->

<a href="http://blogranking.fc2.com/in.php?id=709502" target="_blank"><img src="./OV7670 + FIFO   MIBC備忘録_files/a_01.gif" style="border:0px;"></a>

<!-- ▼　フッター （カスタマイズ注意） ▼ -->
<div id="footer">
   <div class="copy">Copyright © MIBC備忘録 All Rights Reserved. blog designed by <a href="http://subculsheets.blog.fc2.com/" title="サブカルシート" target="_blank">HiRo</a></div>
   <p class="fc2-pr"><span id="ad1"><script type="text/javascript">var j = 46;</script><script type="text/javascript" charset="utf-8" src="./OV7670 + FIFO   MIBC備忘録_files/janre.js"></script>[PR] <a href="http://media.fc2.com/clicks.php?id=1467" target="_blank" title="お小遣い稼ぎ">お小遣い稼ぎ</a> <a href="http://media.fc2.com/clicks.php?id=1468" target="_blank" title="モニター募集">モニター募集</a> <a href="http://media.fc2.com/clicks.php?id=1469" target="_blank" title="プチ収入">プチ収入</a><!-- FC2管理用 --><img src="./OV7670 + FIFO   MIBC備忘録_files/counter_img(2).php" width="1" height="1"><!-- FC2管理用 --> / </span><noscript>&lt;p&gt;FC2Ad&lt;/p&gt;</noscript><span id="ad2"><strong>FC2ブログ</strong> <strong><a href="http://thebbs.fc2.com/" title="FC2ザ掲示板" target="_blank">掲示板</a></strong></span></p>
</div>
<!-- ▲　無断で著作権表示を消すことは禁止されています ▲ -->


<!--広告-->
<script type="text/javascript">
	<!--
	(function(){
		var adList = [];
		try {
			adList = eval(["<a href=\"http:\/\/fc2.to\/1hnyCZ\" target=\"_blank\"><b>[PR] \u307f\u3093\u306a\u3067\u66f8\u304d\u8fbc\u3082\u3046\uff01FC2\u306e\u5927\u578b\u63b2\u793a\u677f\uff01 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4019' \/>","<a href=\"http:\/\/fc2.to\/78azAT\" target=\"_blank\"><b>[PR]\u30cd\u30b3\u306a\u3089\u76ee\u306b\u5165\u308c\u3066\u3082\u75db\u304f\u306a\u3044!?\u732b\u597d\u304d\u96c6\u307e\u308c\uff01 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4065' \/>","<a href=\"http:\/\/fc2.to\/3cgkGP\" target=\"_blank\"><b>[PR]\u805e\u304f\u306e\u304c\u6065\u305a\u304b\u3057\u3044\uff1f\u306a\u3089\u3070\u3053\u3053\u3067\u805e\u3053\u3046\uff01 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4111' \/>","<a href=\"http:\/\/contents.fc2.com\/comic_recruitment\/\" target=\"_blank\">[PR] \u540c\u4eba\u4f5c\u54c1\u306e\u6295\u7a3f\u52df\u96c6\u4e2d\uff01 - FC2\u30b3\u30f3\u30c6\u30f3\u30c4\u30de\u30fc\u30b1\u30c3\u30c8<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4203' \/>","<a href=\"http:\/\/fc2.to\/4buvyF\" target=\"_blank\">[PR] 0\u5186\u304b\u3089\u59cb\u3081\u3089\u308c\u308b\u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8\u30d3\u30b8\u30cd\u30b9 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4249' \/>","<a href=\"http:\/\/fc2.to\/4buvyF\" target=\"_blank\">[PR] \u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8\u6210\u529f\u5831\u916c\u6700\u592750%\u306e\u30d3\u30b8\u30cd\u30b9 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4295' \/>","<a href=\"http:\/\/fc2.to\/4buvyF\" target=\"_blank\">[PR] \u8ab0\u306b\u3067\u3082\u53ce\u5165\u306e\u30c1\u30e3\u30f3\u30b9\u304c\u3042\u308b\uff01 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4341' \/>","<a href=\"http:\/\/fc2.to\/67isyB\" target=\"_blank\"><b>[PR]\u30aa\u30bf\u30af\u304c\u30e2\u30c6\u306a\u3044\uff1f\u305d\u3093\u306a\u30d0\u30ab\u306a\uff01 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4387' \/>","<a href=\"http:\/\/fc2.to\/0svxLU\" target=\"_blank\">[PR] \u3059\u3050\u306b\u526f\u696d\u3092\u59cb\u3081\u3088\u3046 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4433' \/>","<a href=\"http:\/\/fc2.to\/0svxLU\" target=\"_blank\">[PR] \u3059\u3050\u59cb\u3081\u3089\u308c\u308b\u7c21\u5358\u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4479' \/>","<a href=\"http:\/\/fc2.to\/0svxLU\" target=\"_blank\">[PR] \u30cd\u30c3\u30c8\u3067\u7a3c\u3050\u65b9\u6cd5 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4525' \/>","<a href=\"http:\/\/fc2.to\/0svxLU\" target=\"_blank\">[PR] \u6700\u77ed3\u30af\u30ea\u30c3\u30af\u3067\u526f\u696d\u3092\u59cb\u3081\u3088\u3046\uff01 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4571' \/>","<a href=\"http:\/\/fc2.to\/0svxLU\" target=\"_blank\">[PR] \u7121\u6599\u3067\u304a\u5c0f\u9063\u3044\u3092\u7a3c\u3050\uff01 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4617' \/>","<a href=\"http:\/\/fc2.to\/69aeJR\" target=\"_blank\">[PR] FX\uff0b\u304a\u5c0f\u9063\u3044\u304c\u6b32\u3057\u3044 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4663' \/>","<a href=\"http:\/\/fc2.to\/69aeJR\" target=\"_blank\">[PR] \u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8\u3092\u3057\u3066\u6295\u8cc7\u60c5\u5831\u3092GET! - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4709' \/>","<a href=\"http:\/\/fc2.to\/69aeJR\" target=\"_blank\">[PR] \u30ea\u30b9\u30af\u306a\u3057\u3067\u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8\u3092\u3057\u3088\u3046 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4755' \/>","<a href=\"http:\/\/fc2.to\/lmCPWZ\" target=\"_blank\">[PR] \u8da3\u5473\u3092\u751f\u304b\u3057\u3066\u30cd\u30c3\u30c8\u30b7\u30e7\u30c3\u30d7\u904b\u55b6 - FC2\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30ab\u30fc\u30c8<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4801' \/>","<a href=\"http:\/\/fc2.to\/6akxAC\" target=\"_blank\">[PR] \u30cf\u30f3\u30c9\u30e1\u30a4\u30c9\u4f5c\u54c1\u3092\u8ca9\u58f2\u3057\u3066\u307f\u307e\u305b\u3093\u304b\uff1f - FC2\u30b7\u30e7\u30c3\u30d4\u30f3\u30b0\u30ab\u30fc\u30c8<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4847' \/>","<a href=\"http:\/\/fc2.to\/28ovIO\" target=\"_blank\"><b>[PR]\u6687\u306a\u4eba\u3001\u3053\u306e\u6307\u3068\u307e\u308c\uff01 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4893' \/>","<a href=\"http:\/\/fc2.to\/dpxTVW\" target=\"_blank\">[PR] \u5fc5\u52dd\u30fb\u653b\u7565\u65b9\u6cd5\u3092\u7d39\u4ecb\u3059\u308b\u3068\u5831\u916c\u304c\u3082\u3089\u3048\u307e\u3059 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4939' \/>","<a href=\"http:\/\/fc2.to\/03gCFJ\" target=\"_blank\">[PR] \u304a\u6c17\u306b\u5165\u308a\u306e\u52c9\u5f37\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u307e\u305b\u3093\u304b\uff1f - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='4985' \/>","<a href=\"http:\/\/fc2.to\/03gCFJ\" target=\"_blank\">[PR] \u305d\u3046\u3060\u3001\u30a2\u30d5\u30a3\u30ea\u30a8\u30a4\u30c8\u3067\u52c9\u5f37\u8853\u3092\u8aad\u3082\u3046 - FC2\u30d6\u30ed\u30b0 \u30d6\u30ed\u30de\u30ac<\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5031' \/>","<a href=\"http:\/\/fc2.to\/3BCGQW\" target=\"_blank\"><b>[PR]\u4eca\u65e5\u306e\u6669\u3054\u306f\u3093\u306f\u4f55\uff1f\u30a6\u30c1\u306e\u6669\u3054\u306f\u3093\u306f\u2026 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5077' \/>","<a href=\"http:\/\/fc2.to\/1hnyCZ\" target=\"_blank\"><b>[PR] \u307f\u3093\u306a\u3067\u66f8\u304d\u8fbc\u3082\u3046\uff01FC2\u306e\u5927\u578b\u63b2\u793a\u677f\uff01 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5123' \/>","<a href=\"http:\/\/fc2.to\/dfBFIX\" target=\"_blank\"><b>[PR]\u9762\u767d\u3044\u3053\u3068\u306f\u3001\u3053\u3053\u306b\u3042\u308b\uff01 - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5169' \/>","<a href=\"http:\/\/fc2.to\/0blJRT\" target=\"_blank\"><b>[PR]\u30c0\u30a4\u30a8\u30c3\u30c8\u4e2d\u3067\u3082\u3001\u304a\u83d3\u5b50\u306f\u98df\u3079\u305f\u3044\u3088\u306d\uff1f - FC2\u30b6\u63b2\u793a\u677f<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1204\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5301' \/>","<a href=\"http:\/\/fc2.to\/9btyDK\" target=\"_blank\"><b>[PR]\u30de\u30b8\u30c3\u30af\u306e\u7a2e\u660e\u304b\u3057\u52d5\u753b\u8ca9\u58f2\u4e2d\uff01 - FC2\u30b3\u30f3\u30c6\u30f3\u30c4\u30de\u30fc\u30b1\u30c3\u30c8<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5505' \/>","<a href=\"http:\/\/fc2.to\/9btyDK\" target=\"_blank\"><b>[PR]\u30d7\u30ed\u306e\u624b\u54c1\u3001\u52d5\u753b\u3067\u6559\u3048\u307e\u3059\uff01 - FC2\u30b3\u30f3\u30c6\u30f3\u30c4\u30de\u30fc\u30b1\u30c3\u30c8<\/b><\/a><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5506' \/>","<a href=\"http:\/\/fc2.to\/cefvDR\" target=\"_blank\">[PR] \u30b9\u30de\u30fc\u30c8\u30d5\u30a9\u30f3\u5e83\u544a\u5b8c\u5168\u30aa\u30d5\uff01 - FC2 BLOG Pro<!-- FC2\u7ba1\u7406\u7528 --<!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1513\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5543' \/>","<a href=\"http:\/\/fc2.to\/cefvDR\" target=\"_blank\">[PR] FC2\u30d6\u30ed\u30b0\u306e\u6709\u6599\u30d7\u30e9\u30f3\u304c\u30d1\u30ef\u30fc\u30a2\u30c3\u30d7\uff01 - FC2 BLOG Pro<!-- FC2\u7ba1\u7406\u7528 --<!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1513\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5590' \/>","<a href=\"http:\/\/fc2.to\/cefvDR\" target=\"_blank\">[PR] \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u653e\u984c\uff01\u30d5\u30a1\u30a4\u30eb\u5bb9\u91cf\u7121\u5236\u9650\uff01 - FC2 BLOG Pro<!-- FC2\u7ba1\u7406\u7528 --<!-- FC2\u7ba1\u7406\u7528 --><img src=\"http:\/\/media.fc2.com\/counter_img.php?id=1513\" width=\"1\" height=\"1\"><!-- FC2\u7ba1\u7406\u7528 --><input type='hidden' name='adhb' value='5638' \/>"]);
			var headerLink = document.getElementById("sh_fc2blogheadbar_link_box");
			var n = Math.floor(Math.random() * adList.length);
			headerLink.innerHTML = adList[n];
		} catch(ex) {
		}
	})();
	-->
</script>
<script type="text/javascript" src="./OV7670 + FIFO   MIBC備忘録_files/ad_ref.js"></script>


<!-- blog designed by HiRo 「http://subculsheets.blog.fc2.com/」 --><div id="topcontrol" style="position: fixed; bottom: 15px; right: 15px; opacity: 1; cursor: pointer;" title="Scroll Back to Top"><img src="./OV7670 + FIFO   MIBC備忘録_files/n-top.png" style="width:50px; height:50px"></div><img src="./OV7670 + FIFO   MIBC備忘録_files/pixel" width="0" height="0" border="0"></body></html>